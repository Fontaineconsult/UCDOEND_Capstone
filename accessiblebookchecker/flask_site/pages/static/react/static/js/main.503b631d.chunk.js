(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{171:function(e,t,a){},223:function(e,t,a){},228:function(e,t,a){},235:function(e,t,a){},238:function(e,t,a){},319:function(e,t,a){e.exports=a(543)},324:function(e,t,a){},436:function(e,t){},438:function(e,t){},471:function(e,t){},472:function(e,t){},537:function(e,t,a){},538:function(e,t,a){},539:function(e,t,a){},543:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(20),o=a.n(i),s=(a(324),a(11)),c=a(12),l=a(14),u=a(13),d=a(15),p=a(10),m=a(9),h=a(17),b=a.n(h),v="RECEIVE_COURSES",_="WRITE_COURSE",f="CLEAR_COURSES";function j(e){return{type:v,courses:e}}var O="RECEIVE_EMPLOYEES",g="UPDATE_EMPLOYESS",E="CLEAR_EMPLOYEES";function y(e){return{type:g,employees:e}}var C="RECEIVE_VIDEO_JOBS",S="UPDATE_VIDEO_JOBS",R="ADD_NEW_AST_JOB",k="ADD_AST_ID_TO_AST_JOB",w="DELETE_CAP_JOB",N="CLEAR_CAP_JOBS";function J(e){return{type:C,videos:e}}function I(e,t){var a=e[Object.keys(e)[0]].caption_job_id,n=e[Object.keys(e)[0]];return{type:R,job_id:a,astJob:n}}var F="RECEIVE_STUDENTS";var D="RECEIVE_ILEARN_VIDEOS",L="UPDATE_ILEARN_VIDEO",A="CLEAR_ILEARN_VIDEO";function x(e){return{type:D,IlearnVideos:e}}function T(e,t){return{type:L,ilearn_video_object:t,video_id:e}}var q="RECEIVE_MEDIA",M="ADD_MEDIA",U="ADD_MEDIA_FROM_CAP_JOBS",B="ADD_CAP_FILE_TO_MEDIA",P="ADD_MEDIA_FILE_TO_MEDIA",V="UPDATE_MEDIA",z="UPDATE_MEDIA_DEEP";function H(e){var t=Object.keys(e).reduce(function(t,a){null!==e[a].media&&(t[e[a].media.id]=e[a].media);return t},{});return{type:U,media:t}}function G(e){var t=e[Object.keys(e)[0]].media_id;return{type:B,captionFile:e,mediaId:t}}function Y(e){var t=e[Object.keys(e)[0]].media_id;return{type:P,mediaFile:e,mediaId:t}}function W(e){var t=Object.keys(e)[0];return{type:V,media:e,mediaId:t}}var Q="RECEIVE_REQUESTER_RESOURCES",K="CLEAR_REQUESTER_RESOURCES";function X(e){return{type:Q,requester:e}}var Z="RECEIVE_REQUESTS";var $="LOADING_COURSES",ee="LOADING_ILEARN_VIDEOS",te="LOADING_INSTRUCTORS",ae="LOADING_MEDIA",ne="LOADING_STUDENTS",re="LOADING_VIDEO_JOBS",ie="LOADING_PERMISSIONS",oe="_LOADINGREQUESTS",se="_LOADINGASTJOB",ce="_ALLLOADINGON";function le(e){return{type:$,status:e}}function ue(e){return{type:ee,status:e}}function de(e){return{type:te,status:e}}function pe(e){return{type:ae,status:e}}function me(e){return{type:re,status:e}}function he(e){return{type:oe,status:e}}function be(e){return{type:se,status:e}}var ve="RECEIVE_USER_PERMISSIONS";var _e=function(){return"http://localhost:5000/api/v2/captioning"},fe=function(){return"https://amp-dev.sfsu.edu/api/v2/captioning"},je=function(){return"https://ilearn.support.at.sfsu.edu/ay2021/course/view.php?id="},Oe=function(){return"http://localhost:5000/api/v2/captioning/services/download/file"};var ge=function(){return!0===!0?fe():_e()},Ee="SET_ERROR",ye="REMOVE_ERROR";function Ce(e,t,a){return{type:Ee,error_message:e,request_payload:t,error_id:a}}function Se(e){return{type:ye,transaction_id:e}}var Re="RECEIVE_MEDIA_SEARCH",ke="CLEAR_MEDIA_SEARCH";function we(e,t){return{type:Re,media:e,unique_id:t}}function Ne(e){return{type:ke,transaction_id:e}}var Je="RECEIV_CAMPUS_ORGS";var Ie="START_TEMP_CAP_JOB",Fe="ADD_MEDIA_TO_TEMP_JOB",De="ADD_JOB_INFO_TO_TEMP_JOB",Le="COMPLETE_TEMP_CAP_JOB",Ae="ADD_MEDIA_TO_TEMP_JOB_NO_ID",xe="CLEAR_TEMP_CAP_JOBS",Te="CLEAR_INCOMPLETE_TEMP_CAP_JOBS",qe="UPDATE_TEMP_CAP_JOBS_FORM_JOBS",Me="REMOVE_ITEM_FROM_TEMP_CAP_JOBS",Ue="UPDATE_TEMP_JOBS_UPLOAD_STATE";function Be(e,t){return{type:Ie,temp_id:e,requester_id:t}}function Pe(e,t){return{type:Fe,temp_id:t,media_info:e}}function Ve(e,t){return{type:Ae,temp_id:e,media_info:t}}function ze(e,t){return{type:De,temp_id:e,job_info:t}}function He(e,t){return{type:Le,temp_id:e,created:t}}function Ge(){return{type:xe}}var Ye=a(209),We=a.n(Ye),Qe=a(584),Ke=ge();function Xe(e){if(null!==e.content)return e.content;console.log("ERROR",e.error)}function Ze(e,t,a,n){return e.ok||e.json().then(function(e){return t(Ce(e.error.message,e.request_payload,a))}).then(function(e){return t(n(!1))}),e}function $e(e,t,a,n,r){return e.ok&&e.json().then(function(e){a.forEach(function(a){t(a(e.content,n))})}).then(function(e){return t(r(!1))}),e}function et(e){return function(t){return b()("".concat(Ke,"/permission?id=").concat(e)).then(function(e){return e.json()}).then(function(e){return Xe(e)}).then(function(e){return t({type:ve,userPermission:e})}).then(function(){return t({type:ie,status:!1})}).then(function(e){return console.log(e)})}}function tt(e){return function(t){return t(he(!0)),b()("".concat(Ke,"/requesters?employee_id=all&semester=").concat(e)).then(function(e){return e.json()}).then(function(e){return t(X(e.content))}).then(function(e){return t(he(!1))}).then(function(e){return console.log(e)})}}function at(e){return function(t){return t(j()),t(le(!0)),b()("".concat(Ke,"/courses?semester=").concat(e)).then(function(e){return e.json()}).then(function(e){return Xe(e)}).then(function(e){return t(j(e))}).then(function(){return t(le(!1))}).then(function(e){return console.log(e)})}}function nt(e){var t=Object(Qe.a)();return function(a){return a(me(!0)),a(pe(!1)),b()("".concat(Ke,"/video-jobs?semester=").concat(e,"&requester_id=all")).then(function(e){return Ze(e,a,t,me)},function(e){console.log(e)}).then(function(e){return $e(e,a,[J,H],t,me)}).then(function(e){return console.log(e)})}}function rt(e){var t=Object(Qe.a)();return function(a){return a(x()),a(ue(!0)),b()("".concat(Ke,"/ilearn-videos?semester=").concat(e)).then(function(e){return Ze(e,a,t,ue)},function(e){console.log(e)}).then(function(e){return $e(e,a,[x],t,ue)})}}function it(e,t){return function(a){return a(pe(!0)),b()("".concat(Ke,"/media?source_url=").concat(e)).then(function(e){return Ze(e,a,t,pe)},function(e){console.log(e)}).then(function(e){return $e(e,a,[we],t,pe)})}}function ot(){return function(e){return b()("".concat(Ke,"/campus-orgs")).then(function(e){return e.json()}).then(function(t){return e((a=t.content,{type:Je,campus_orgs:a}));var a}).then(function(e){return console.log(e)})}}function st(){return function(e){return b()("".concat(Ke,"/employees?employee_id=all")).then(function(e){return e.json()}).then(function(t){return e((a=t.content,{type:O,employees:a}));var a}).then(function(){return e(de(!1))}).then(function(e){return console.log(e)})}}var ct=a(2),lt=a(40),ut=a(16),dt=a(4);function pt(e){console.log("DEERRRPppp"),alert("Something went wrong when communicating with the server ".concat(e))}var mt=ge();function ht(e,t,a){return e.ok||e.json().then(function(e){return t(Ce(e.error.error_message,e.request_payload,a)),alert(e.error.error_message)}),e}function bt(e,t,a,n,r){return e.ok&&e.json().then(function(e){a.forEach(function(a){t(a(e.content,n))})}).then(function(e){return t(r(!1))}),e}function vt(e){var t=Object(Qe.a)(),a=Object.keys(e).map(function(t){var a=e[t];if(!0===a.meta.created){var n={requester_id:parseInt(a.job_info.requester_id,10),show_date:a.job_info.show_date,media_id:parseInt(a.video.id,10),output_format:a.job_info.delivery_format,comments:a.job_info.comments,semester:a.job_info.semester};return{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}}});return function(e,n){e(me(!0)),Object(p.b)(function(){a.forEach(function(a){return b()("".concat(mt,"/video-jobs"),a).then(function(a){return ht(a,e,t)},function(e){console.log(e)}).then(function(a){bt(a,e,[J,H],t,me)})})}),e(me(!1))}}function _t(e,t,a,n){var r;"URL"===a&&(r={title:e,source_url:t,media_type:a}),"File"===a&&(r={title:e,sha_256_hash:t,media_type:a});var i={method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}};return function(e){return e(pe(!0)),b()("".concat(mt,"/media"),i).then(function(t){return ht(t,e,n)},function(e){console.log(e)}).then(function(t){bt(t,e,[we,Pe],n,pe)})}}function ft(e,t,a,n){var r={method:"POST",body:e,headers:{"Content-Type":n,"Media-Id":t}};return function(e){return e(pe(!0)),b()("".concat(mt,"/services/upload/file"),r).then(function(t){return ht(t,e,a)},function(e){console.log(e)}).then(function(n){e(function(e,t){return{type:Ue,temp_id:e,upload_state:t}}(a,!0),e(pe(!1))),e(function(e,t){return function(a){return a(he(!0)),b()("".concat(Ke,"/media?id=").concat(e)).then(function(e){return Ze(e,a,t,pe)},function(e){console.log(e)}).then(function(e){return $e(e,a,[Pe],t,pe)})}}(t,a))})}}function jt(e,t){var a,n=Object(Qe.a)();return a=void 0===t?{method:"POST",body:JSON.stringify({action:"create-amara-resource",media_id:e}),headers:{"Content-Type":"application/json"}}:{method:"POST",body:JSON.stringify({action:"create-amara-resource",media_id:e,file_id:t}),headers:{"Content-Type":"application/json"}},function(t){return t(pe(!0)),b()("".concat(mt,"/services/amara"),a).then(function(a){a.ok?b()("".concat(mt,"/media?id=").concat(e)).then(function(e){return ht(e,t,n)},function(e){console.log(e)}).then(function(e){bt(e,t,[W],n,pe)}):alert("Something went wrong with upload")})}}function Ot(e,t,a){var n=Object(Qe.a)(),r={media_id:e,url:t,format:a},i={method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}};return function(t){return t(pe(!0)),b()("".concat(mt,"/services/extract"),i).then(function(a){a.ok?b()("".concat(mt,"/media?id=").concat(e)).then(function(e){return ht(e,t,n)},function(e){console.log(e)}).then(function(e){bt(e,t,[W],n,pe)}):alert("Something went wrong with upload")})}}var gt=a(33),Et={container:function(e){return Object(dt.a)({},e,{display:"inline-block",width:"160px",minHeight:"1px",textAlign:"left",border:"none"})},control:function(e){return Object(dt.a)({},e,{border:"2px solid #757575",borderRadius:"0",minHeight:"1px",height:"30px"})},input:function(e){return Object(dt.a)({},e,{minHeight:"1px"})},dropdownIndicator:function(e){return Object(dt.a)({},e,{minHeight:"1px",paddingTop:"0",paddingBottom:"0",color:"#757575"})},indicatorsContainer:function(e){return Object(dt.a)({},e,{height:"100%"})},indicatorSeparator:function(e){return Object(dt.a)({},e,{minHeight:"1px",height:"19px",marginTop:"auto",marginBottom:"auto"})},clearIndicator:function(e){return Object(dt.a)({},e,{minHeight:"1px"})},valueContainer:function(e){return Object(dt.a)({},e,{minHeight:"1px",height:"30px",paddingTop:"0",paddingBottom:"0"})},singleValue:function(e){return Object(dt.a)({},e,{minHeight:"1px",paddingBottom:"2px"})},placeholder:function(e){return Object(dt.a)({},e,{fontSize:"15px"})}},yt={container:function(e){return Object(dt.a)({},e,{display:"inline-block",width:"220px",minHeight:"1px",textAlign:"left",border:"none"})},control:function(e){return Object(dt.a)({},e,{border:"1px solid #757575",borderRadius:"0",minHeight:"1px",height:"30px"})},input:function(e){return Object(dt.a)({},e,{minHeight:"1px"})},dropdownIndicator:function(e){return Object(dt.a)({},e,{minHeight:"1px",paddingTop:"0",paddingBottom:"0",color:"#757575"})},indicatorsContainer:function(e){return Object(dt.a)({},e,{height:"100%"})},indicatorSeparator:function(e){return Object(dt.a)({},e,{minHeight:"1px",height:"19px",marginTop:"auto",marginBottom:"auto"})},clearIndicator:function(e){return Object(dt.a)({},e,{minHeight:"1px"})},valueContainer:function(e){return Object(dt.a)({},e,{minHeight:"1px",height:"30px",paddingTop:"0",paddingBottom:"0"})},singleValue:function(e){return Object(dt.a)({},e,{minHeight:"1px",paddingBottom:"2px"})},placeholder:function(e){return Object(dt.a)({},e,{fontSize:"15px"})}},Ct={container:function(e){return Object(dt.a)({},e,{display:"inline-block",width:"400px",minHeight:"1px",textAlign:"left",border:"none"})},control:function(e){return Object(dt.a)({},e,{border:"1px solid #757575",borderRadius:"0",minHeight:"1px",height:"30px"})},input:function(e){return Object(dt.a)({},e,{minHeight:"1px"})},dropdownIndicator:function(e){return Object(dt.a)({},e,{minHeight:"1px",paddingTop:"0",paddingBottom:"0",color:"#757575"})},indicatorsContainer:function(e){return Object(dt.a)({},e,{height:"100%"})},indicatorSeparator:function(e){return Object(dt.a)({},e,{minHeight:"1px",height:"19px",marginTop:"auto",marginBottom:"auto"})},clearIndicator:function(e){return Object(dt.a)({},e,{minHeight:"1px"})},valueContainer:function(e){return Object(dt.a)({},e,{minHeight:"1px",height:"30px",paddingTop:"0",paddingBottom:"0"})},singleValue:function(e){return Object(dt.a)({},e,{minHeight:"1px",paddingBottom:"2px"})},placeholder:function(e){return Object(dt.a)({},e,{fontSize:"15px"})}},St={container:function(e){return Object(dt.a)({},e,{display:"inline-block",width:"400px",minHeight:"1px",textAlign:"left",border:"none"})},control:function(e){return Object(dt.a)({},e,{border:"2px solid #757575",borderRadius:"0",minHeight:"1px",height:"30px"})},input:function(e){return Object(dt.a)({},e,{minHeight:"1px"})},dropdownIndicator:function(e){return Object(dt.a)({},e,{minHeight:"1px",paddingTop:"0",paddingBottom:"0",color:"#757575"})},indicatorsContainer:function(e){return Object(dt.a)({},e,{height:"100%"})},indicatorSeparator:function(e){return Object(dt.a)({},e,{minHeight:"1px",height:"19px",marginTop:"auto",marginBottom:"auto"})},clearIndicator:function(e){return Object(dt.a)({},e,{minHeight:"1px"})},valueContainer:function(e){return Object(dt.a)({},e,{minHeight:"1px",height:"30px",paddingTop:"0",paddingBottom:"0"})},singleValue:function(e){return Object(dt.a)({},e,{minHeight:"1px",paddingBottom:"2px"})},placeholder:function(e){return Object(dt.a)({},e,{fontSize:"15px"})}},Rt=ge();function kt(e,t,a){var n={id:e,column:t,value:a},r={method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}};return function(e){var t,a;return e({type:z,media_id:n,key:t,value:a}),b()("".concat(Rt,"/media"),r).then(function(e){return console.log(JSON.stringify(e.response))}).catch(function(e){return pt(e)})}}function wt(e,t,a){var n={course_gen_id:e,column:t,value:a},r={method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}};return function(e){return e({type:_,course_data:n}),b()("".concat(Rt,"/courses"),r).then(function(e){return console.log(JSON.stringify(e.response))}).catch(function(e){return pt(e)})}}function Nt(e,t,a){var n={id:e,column:t,value:a},r={method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}};return function(t,a){return t(T(e,n)),b()("".concat(Rt,"/ilearn-videos"),r).then(function(e){return e.json()}).catch(function(e){return console.log(e)})}}function Jt(e,t,a){var n={id:e,column:t,value:a},r={method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}};return function(n,i){return b()("".concat(Rt,"/video-jobs"),r).then(function(e){return e.json()}).then(function(r){return n(function(e,t,a){return{type:S,job_id:e,column:t,value:a}}(e,t,a))}).catch(function(e){return console.log(e)})}}function It(e,t,a){var n={id:e,column:t,value:a},r={method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}};return function(t,a){return t(me(!0)),b()("".concat(Rt,"/video-jobs"),r).then(function(e){return e.json()}).then(function(a){return t(function(e){return{type:w,job_id:String(e)}}(e))}).then(function(e){return t(me(!1))}).catch(function(e){return console.log(e)})}}function Ft(e,t,a){var n=e.map(function(e){return{request_payload:{method:"PUT",body:JSON.stringify({id:e,column:t,value:a}),headers:{"Content-Type":"application/json"}},dispatch_payload:{id:e,column:t,value:a}}});return function(e,t){e(ue(!0)),Object(p.b)(function(){n.forEach(function(t){return console.log(t),e(T(t.dispatch_payload.id,t.dispatch_payload)),b()("".concat(Rt,"/ilearn-videos"),t.request_payload).then(function(e){return e.json()}).then(function(e){console.log("farts",e)}).catch(function(e){return console.log(e)})})}),e(ue(!1))}}function Dt(e,t,a){console.log(e);var n={"ast-job-id":e,file_id:a},r={method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}};return function(a){return a(be(!0)),b()("".concat(Rt,"/ast-jobs"),r).then(function(e){return e.json()}).then(function(n){return a(function(e,t,a){return{type:k,unique_ast_job_id:e,ast_job_id:t,job_id:a}}(n.content.echo,e,t))}).then(function(e){return a(be(!1))}).catch(function(e){return console.log(e)})}}var Lt=a(210),At=a.n(Lt),xt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={captioned_url:a.props.primaryCapResource,captionResources:a.props.captionResources},a.updatePrimaryCapResource=a.updatePrimaryCapResource.bind(Object(ct.a)(Object(ct.a)(a))),a.addCapResource=a.addCapResource.bind(Object(ct.a)(Object(ct.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"addCapResource",value:function(){console.log("ADD RESOURCE")}},{key:"updatePrimaryCapResource",value:function(e){this.setState({captioned_url:e}),this.props.dispatch(kt(this.props.media_id,"primary_caption_resource_id",e.value))}},{key:"componentDidMount",value:function(){this.setState({captioned_url:this.props.primaryCapResource})}},{key:"render",value:function(){return r.a.createElement("div",{className:"caption_resource_container"},r.a.createElement("div",null,r.a.createElement(gt.a,{style:{width:"300px"},name:"primary_caption",onChange:this.updatePrimaryCapResource,styles:Ct,value:this.state.captioned_url,options:this.state.captionResources})),r.a.createElement("div",{className:"addCapResource"},r.a.createElement(At.a,{disabled:!1,name:"extract_video",size:"small",onClick:this.addCapResource},r.a.createElement(At.a,{fontSize:"small"}))))}}]),t}(n.Component);var Tt=Object(m.e)(Object(p.c)(function(e,t){var a,n,i,o=e.loadingStatusReducer,s=(e.errorsReducer,e.mediaReducer),c=t.media_id;return!1===o.mediaLoading&&(a=s[c],n=s[c].captioned_resources.reduce(function(e,t){return null!==t.amara_id&&e.push({value:t.id,label:t.amara_resource.url}),e},[]),null!==a.primary_caption_resource_id&&(i=s[c].captioned_resources.map(function(e){if(e.id===a.primary_caption_resource_id)return{value:e.id,label:r.a.createElement("a",{target:"_blank",href:e.amara_resource.url},e.amara_resource.url)}}))),{media:a,captionResources:n,media_id:c,mediaReducer:s,primaryCapResource:i}})(xt)),qt=a(153),Mt=a.n(qt),Ut=a(573),Bt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={captioned_url:"Not Set"},a.extractAudio=a.extractAudio.bind(Object(ct.a)(Object(ct.a)(a))),a.extractVideo=a.extractVideo.bind(Object(ct.a)(Object(ct.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"extractAudio",value:function(){"URL"===this.props.media.media_type&&this.props.dispatch(Ot(this.props.mediaId,this.state.source_url,"m4a"))}},{key:"extractVideo",value:function(){"URL"===this.props.media.media_type&&this.props.dispatch(Ot(this.props.mediaId,this.state.source_url,"mp4"))}},{key:"componentDidMount",value:function(){this.setState({captioned_url:this.props.media.captioned_url,title:this.props.media.title,source_url:this.props.media.source_url})}},{key:"render",value:function(){return r.a.createElement("div",{className:"capJobMediaContainer"},r.a.createElement("div",null,r.a.createElement("div",{className:"capJobMediaContentContainer"},r.a.createElement("div",{tabIndex:0,className:"mediaContentDescriptor"},r.a.createElement("label",{style:{"margin-right":"80px"}},"Title:"),r.a.createElement("div",null,this.state.title))),r.a.createElement("div",{className:"capJobMediaContentContainer"},r.a.createElement("div",{tabIndex:0,className:"mediaContentDescriptor"},"File"===this.props.media.media_type&&r.a.createElement("label",{style:{"margin-right":"32px"}},"Source File: "),"File"===this.props.media.media_type&&r.a.createElement("a",{href:this.props.download_url},this.props.fileObject.associated_files.file_name),"URL"===this.props.media.media_type&&r.a.createElement("div",null,r.a.createElement("label",{style:{"margin-right":"32px"}},"Source URL: ")),"URL"===this.props.media.media_type&&r.a.createElement("div",{className:"sourceUrlLink"},r.a.createElement("a",{target:"_blank",href:this.state.source_url},this.state.source_url))),r.a.createElement("div",{className:"extractorButtonsContainer"},r.a.createElement("div",{className:"extractorButton"},r.a.createElement("div",{className:"extractorLabel"},"m4a"),r.a.createElement(Ut.a,{disabled:!1,name:"extract_video",size:"small",onClick:this.extractAudio},r.a.createElement(Mt.a,{fontSize:"small"}))),r.a.createElement("div",{className:"extractorButton"},r.a.createElement("div",{className:"extractorLabel"},"mp4"),r.a.createElement(Ut.a,{disabled:!1,name:"extract_video",size:"small",onClick:this.extractVideo},r.a.createElement(Mt.a,{fontSize:"small"}))))),r.a.createElement("div",{className:"capJobMediaContentContainer"},r.a.createElement("label",{className:"capJobMediaContentContainer"},r.a.createElement("div",{className:"mediaContentDescriptor"},r.a.createElement("label",{style:{"margin-right":"8px"}},"Captioned URL:"),r.a.createElement(Tt,{media_id:this.props.mediaId}))))))}}]),t}(n.Component);var Pt=Object(m.e)(Object(p.c)(function(e,t){e.loadingStatusReducer,e.errorsReducer;var a=e.mediaReducer,n=t.mediaId,r=a[n],i=null,o=null;if("File"===r.media_type&&(i=r.media_objects.find(function(e){return e.associated_files.sha_256_hash===r.sha_256_hash})),i){var s=Oe();o="".concat(s,"?media_id=").concat(r.id)}return{media:r,fileObject:i,download_url:o,mediaId:n}})(Bt)),Vt=a(212),zt=a.n(Vt),Ht=a(128),Gt=a.n(Ht),Yt=a(574),Wt=a(213),Qt=a.n(Wt),Kt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={captionFiles:a.props.captionFiles,caption_select:"",media_select:"",mediaFiles:a.props.mediaFiles,capFileUpload:"",mediaFileUpload:"",cap_temp_id:"",media_temp_id:""},a.downloadCaption=a.downloadCaption.bind(Object(ct.a)(Object(ct.a)(a))),a.updateCapSelectState=a.updateCapSelectState.bind(Object(ct.a)(Object(ct.a)(a))),a.setCaptionFile=a.setCaptionFile.bind(Object(ct.a)(Object(ct.a)(a))),a.uploadCaptionFile=a.uploadCaptionFile.bind(Object(ct.a)(Object(ct.a)(a))),a.updateMediaSelectState=a.updateMediaSelectState.bind(Object(ct.a)(Object(ct.a)(a))),a.downloadMedia=a.downloadMedia.bind(Object(ct.a)(Object(ct.a)(a))),a.setMediaFile=a.setMediaFile.bind(Object(ct.a)(Object(ct.a)(a))),a.uploadMediaFile=a.uploadMediaFile.bind(Object(ct.a)(Object(ct.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"downloadCaption",value:function(){var e,t;this.props.dispatch((e=this.state.caption_select.caption_id,t=this.props.mediaId,function(a){return a(pe(!0)),b()("".concat(Ke,"/services/download/caption?item_id=").concat(e,"&media_id=").concat(t)).then(function(e){e.blob().then(function(t){We()(t,e.headers.get("Content-Disposition").split("filename=")[1].replace('"',"").replace('"',""),"text/plain")})}).then(function(){return a(pe(!1))})})),this.setState({capFileUpload:""})}},{key:"setCaptionFile",value:function(e){var t=this;document.getElementById("captionUpload").click(),document.getElementById("captionUpload").onchange=function(){(new FileReader).readAsArrayBuffer(document.getElementById("captionUpload").files[0]);var e=new FormData;e.append(document.getElementById("captionUpload").files[0].name,document.getElementById("captionUpload").files[0]),t.setState({capFileUpload:e,cap_temp_id:Object(Qe.a)()})}}},{key:"uploadCaptionFile",value:function(e){this.props.dispatch(function(e,t,a){var n={method:"POST",body:e,headers:{"Content-Type":"application/x-subrip"}};return function(e){return e(pe(!0)),b()("".concat(mt,"/services/upload/caption?media_id=").concat(t),n).then(function(n){n.ok?b()("".concat(mt,"/media-objects?media_id=").concat(t)).then(function(t){return ht(t,e,a)},function(e){console.log(e)}).then(function(t){bt(t,e,[G],a,pe)}):alert("Something went wrong with upload")})}}(this.state.capFileUpload,this.props.mediaId,this.state.cap_temp_id))}},{key:"downloadMedia",value:function(){var e,t;this.props.dispatch((e=this.state.media_select.file_id,t=this.props.mediaId,function(a){return a(pe(!0)),b()("".concat(Ke,"/services/download/file?item_id=").concat(e,"&media_id=").concat(t)).then(function(e){e.blob().then(function(t){We()(t,e.headers.get("Content-Disposition").split("filename=")[1].replace('"',"").replace('"',""),"video/mp4")})}).then(function(){return a(pe(!1))})}))}},{key:"setMediaFile",value:function(e){var t=this;document.getElementById("mediaFileUpload").click(),document.getElementById("mediaFileUpload").onchange=function(){(new FileReader).readAsArrayBuffer(document.getElementById("mediaFileUpload").files[0]);var e=document.getElementById("mediaFileUpload").files[0].type,a=new Blob([document.getElementById("mediaFileUpload").files[0]],{type:e});t.setState({mediaFileUpload:a,content_type:e,media_temp_id:Object(Qe.a)()})}}},{key:"uploadMediaFile",value:function(e){this.props.dispatch(function(e,t,a,n){var r={method:"POST",body:e,headers:{"Content-Type":n,"Media-Id":t}};return function(e){return e(pe(!0)),b()("".concat(mt,"/services/upload/file"),r).then(function(n){n.ok?b()("".concat(mt,"/media-objects?media_id=").concat(t)).then(function(t){return ht(t,e,a)},function(e){console.log(e)}).then(function(t){bt(t,e,[Y],a,pe)}):alert("Something went wrong with upload")})}}(this.state.mediaFileUpload,this.props.mediaId,this.state.cap_temp_id,this.state.content_type)),this.setState({mediaFileUpload:"",content_type:""})}},{key:"updateCapSelectState",value:function(e){this.setState({caption_select:e})}},{key:"updateMediaSelectState",value:function(e){this.setState({media_select:e})}},{key:"render",value:function(){var e=""===this.state.caption_select,t=""===this.state.media_select;return r.a.createElement("div",{className:"mediaContentContainer"},r.a.createElement("div",{className:"mediaContentSelectors"},r.a.createElement("div",null,r.a.createElement("label",{style:{display:"block",fontSize:"12px"},form:"caption_select"},"Caption Files"),r.a.createElement(gt.a,{style:{display:"block"},name:"caption_select",onChange:this.updateCapSelectState,styles:yt,value:this.state.caption_select,options:this.state.captionFiles})),r.a.createElement("div",null,r.a.createElement("label",{style:{display:"block",fontSize:"12px",textAlign:"center"},form:"caption_select"},"Download"),r.a.createElement(Yt.a,{disabled:e,onClick:this.downloadCaption},r.a.createElement(zt.a,{fontSize:"small"})),r.a.createElement("input",{id:"captionUpload",type:"file",accept:"text/*",hidden:!0})),r.a.createElement("div",null,r.a.createElement("label",{style:{display:"block",fontSize:"12px",textAlign:"center"},form:"caption_select"},"Upload"),""===this.state.capFileUpload&&r.a.createElement(Yt.a,{onClick:this.setCaptionFile},r.a.createElement(Gt.a,{color:"primary",fontSize:"small"})),""!==this.state.capFileUpload&&r.a.createElement(Yt.a,{onClick:this.uploadCaptionFile},r.a.createElement(Gt.a,{style:{color:Qt.a[500]},fontSize:"small"})))),r.a.createElement("div",{className:"mediaContentSelectors"},r.a.createElement("div",null,r.a.createElement("label",{style:{display:"block",fontSize:"12px"},form:"media_select"},"Media Files"),r.a.createElement(gt.a,{name:"media_select",onChange:this.updateMediaSelectState,styles:yt,value:this.state.media_select,options:this.state.mediaFiles})),r.a.createElement("div",null,r.a.createElement("label",{style:{display:"block",fontSize:"12px",textAlign:"center"},form:"media_select"},"Download"),r.a.createElement(Yt.a,{style:{marginRight:"4px"},disabled:t,onClick:this.downloadMedia},r.a.createElement(zt.a,{fontSize:"small"})),r.a.createElement("input",{id:"mediaFileUpload",type:"file",accept:"video/*, audio/*",hidden:!0})),r.a.createElement("div",null,r.a.createElement("label",{style:{display:"block",fontSize:"12px",textAlign:"center"},form:"media_select"},"Upload"),""===this.state.mediaFileUpload&&r.a.createElement(Yt.a,{onClick:this.setMediaFile},r.a.createElement(Gt.a,{color:"primary",fontSize:"small"})),""!==this.state.mediaFileUpload&&r.a.createElement(Yt.a,{onClick:this.uploadMediaFile},r.a.createElement(Gt.a,{style:{color:Qt.a[500]},fontSize:"small"})))))}}]),t}(n.Component);var Xt=Object(m.e)(Object(p.c)(function(e,t){var a,n,r=e.loadingStatusReducer,i=(e.errorsReducer,e.mediaReducer),o=t.mediaId;return!1===r.mediaLoading&&(a=i[o].media_objects.reduce(function(e,t){return null!==t.associated_captions&&e.push({caption_id:t.associated_captions.id,value:t.associated_captions.file_name,label:t.associated_captions.file_name,association_id:t.id}),e},[]),n=i[o].media_objects.reduce(function(e,t){return null!==t.associated_files&&e.push({file_id:t.associated_files.id,value:t.associated_files.file_name,label:t.associated_files.file_name,association_id:t.id}),e},[])),{captionFiles:a,mediaFiles:n,mediaReducer:i,mediaId:o}})(Kt)),Zt=(a(223),a(71)),$t=a(35),ea=a.n($t),ta=a(583),aa=a(18),na=(a(228),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={open:!1,temp_id:"",setOpen:!1,modalStyle:a.getModalStyle(),rate:"T",file_id:"",transcriber_notes:"",file_select:a.props.media_files},a.handleOpen=a.handleOpen.bind(Object(ct.a)(Object(ct.a)(a))),a.handleClose=a.handleClose.bind(Object(ct.a)(Object(ct.a)(a))),a.getModalStyle=a.getModalStyle.bind(Object(ct.a)(Object(ct.a)(a))),a.createAstJob=a.createAstJob.bind(Object(ct.a)(Object(ct.a)(a))),a.modalContent=a.modalContent.bind(Object(ct.a)(Object(ct.a)(a))),a.submitJobtoDB=a.submitJobtoDB.bind(Object(ct.a)(Object(ct.a)(a))),a.updateState=a.updateState.bind(Object(ct.a)(Object(ct.a)(a))),a.updateMediaSelect=a.updateMediaSelect.bind(Object(ct.a)(Object(ct.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getModalStyle",value:function(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}},{key:"handleOpen",value:function(){this.setState({temp_id:Object(Qe.a)(),setOpen:!0,open:!0})}},{key:"handleClose",value:function(){this.setState({setOpen:!1,open:!1})}},{key:"submitJobtoDB",value:function(e){e.preventDefault(),this.props.dispatch(function(e,t,a,n,r){var i={method:"POST",body:JSON.stringify({jobid:e,ast_rush:t,file_id:r,ast_notes:a}),headers:{"Content-Type":"application/json"}};return console.log("DSGSDGSDGSDGRRRRR",i),function(e){return e(be(!0)),b()("".concat(mt,"/ast-jobs"),i).then(function(t){return ht(t,e,n)},function(e){console.log(e)}).then(function(t){bt(t,e,[I],n,be)})}}(this.props.job_id,this.state.rate,this.state.transcriber_notes,this.state.temp_id,this.state.file_id.value))}},{key:"createAstJob",value:function(e){}},{key:"updateState",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(ut.a)({},n,a))}},{key:"updateMediaSelect",value:function(e){this.setState({file_id:e})}},{key:"modalContent",value:function(){return r.a.createElement("div",{style:this.state.modalStyle,className:this.props.classes.paper},r.a.createElement("div",{className:"astModalTitle"},"Create AST Job"),r.a.createElement("form",null,r.a.createElement("div",null,r.a.createElement("div",{style:{"margin-bottom":10}},r.a.createElement("div",null,r.a.createElement("label",null,"Select Media")),r.a.createElement("div",null,r.a.createElement(gt.a,{name:"astMediaSelect",styles:St,value:this.state.file_id,onChange:this.updateMediaSelect,options:this.state.file_select}))),r.a.createElement("div",{style:{"margin-bottom":10}},r.a.createElement("div",null,r.a.createElement("label",null,"Rate")),r.a.createElement("div",null,r.a.createElement("select",{name:"rate",value:this.state.rate,onChange:this.updateState},r.a.createElement("option",{value:"H"},"8 Hour"),r.a.createElement("option",{value:"R"},"1 Day"),r.a.createElement("option",{value:"T"},"2 Day"),r.a.createElement("option",{value:"L"},"4 Day"))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"trans_notes"},"Transcriber Notes")),r.a.createElement("div",null,r.a.createElement("textarea",{onChange:this.updateState,value:this.state.transcriber_notes,name:"transcriber_notes"})))),r.a.createElement("div",{style:{"margin-bottom":30}},r.a.createElement(Yt.a,{disabled:""===this.state.file_id,onClick:this.submitJobtoDB},"Init Job")))))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Yt.a,{style:{maxHeight:"25px",padding:"0px 3px"},variant:"contained",name:"creatAstJob",onClick:this.handleOpen,title:"Send to Ast"},"Ast"),r.a.createElement(ta.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},this.modalContent()))}}]),t}(n.Component));var ra=Object(m.e)(Object(p.c)(function(e,t){var a,n=e.mediaReducer,r=e.videosJobsReducer,i=e.loadingStatusReducer,o=t.job_id;return!1===i.videoJobsLoading&&(a=n[r[o].media.id].media_objects.reduce(function(e,t){return null!==t.associated_files&&e.push({value:t.associated_files.id,label:t.associated_files.file_name}),e},[])),{media_files:a,job_id:o}})(Object(aa.a)(function(e){return{paper:{position:"absolute",width:600,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}},{withTheme:!0})(na))),ia=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).astJobFormatter=function(e){var t=e.cell._cell.row.data.id,n=e.cell._cell.row.data.ast_link;return null===n?r.a.createElement(Yt.a,{style:{padding:"0px"},onClick:function(e){return a.initASTJob(t,a.props.job_id)}},"Init"):n?r.a.createElement(Yt.a,{style:{padding:"0px"},onClick:function(e){return window.open(n)}},"Job"):void 0},a.columns=[{title:"Status",field:"status",formatter:"plaintext"},{title:"Speed",field:"speed",formatter:"plaintext"},{title:"Added On",field:"added_date",formatter:"plaintext"},{title:"Ast Url",field:"ast_link",formatter:Object(Zt.reactFormatter)(r.a.createElement(this.astJobFormatter,null))}],a.state={data:[]},a.formatData=a.formatData.bind(Object(ct.a)(Object(ct.a)(a))),a.astJobFormatter=a.astJobFormatter.bind(Object(ct.a)(Object(ct.a)(a))),a.initASTJob=a.initASTJob.bind(Object(ct.a)(Object(ct.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"initASTJob",value:function(e,t){this.props.dispatch(Dt(e,t))}},{key:"formatData",value:function(e){var t,a,n=e.captioning_status,r=e.added_date;if(1===e.ast_status.length&&(n=e.ast_status[0].ast_status,r=e.ast_status[0].added_date),e.ast_status.length>1){var i=e.ast_status[e.ast_status.length-1];n=i.ast_status,r=i.added_date}return t=e.ast_id?"".concat("https://web.automaticsync.com/show_details.php?show_id=").concat(e.ast_id):null,{id:e.id,status:n,speed:(a=e.ast_rush,{H:"8 Hour",R:"1 Day",T:"2 Day",L:"4 Day"}[a]),added_date:ea()(r).format("MM-DD-YY"),ast_link:t}}},{key:"componentDidMount",value:function(){var e=this,t=[];this.props.expanded||t.push(this.formatData(this.props.ast_jobs[0])),this.props.expanded&&Object.keys(this.props.ast_jobs).forEach(function(a){t.push(e.formatData(e.props.ast_jobs[a]))}),this.setState({data:t})}},{key:"componentDidUpdate",value:function(e,t,a){var n=this,r=[];e.expanded!==this.props.expanded&&(this.props.expanded||r.push(this.formatData(this.props.ast_jobs[0])),this.props.expanded&&Object.keys(this.props.ast_jobs).forEach(function(e){r.push(n.formatData(n.props.ast_jobs[e]))}),this.setState({data:r}))}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(Zt.ReactTabulator,{data:this.state.data,columns:this.columns,resizableColumns:!1,responsiveLayout:!0,layout:"fitData",maxHeight:"40px"}))}}]),t}(n.Component),oa=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={expanded:!1},a.shrinkView=a.shrinkView.bind(Object(ct.a)(Object(ct.a)(a))),a.expandView=a.expandView.bind(Object(ct.a)(Object(ct.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"expandView",value:function(){this.setState({expanded:!0})}},{key:"shrinkView",value:function(){this.setState({expanded:!1})}},{key:"render",value:function(){return r.a.createElement("div",{className:"astControls"},r.a.createElement("div",{className:"astModalActivateButtonContainer"},r.a.createElement(ra,{job_id:this.props.job_id})),r.a.createElement("div",{className:"astControlsContainer",tabIndex:0},this.props.hasJobs&&r.a.createElement(ia,{job_id:this.props.job_id,dispatch:this.props.dispatch,expanded:this.state.expanded,ast_jobs:this.props.ast_jobs}),!this.props.hasJobs&&r.a.createElement(sa,null)))}}]),t}(n.Component);function sa(e){return r.a.createElement("div",{className:"noJobSlug"},"No AST Jobs")}var ca=Object(m.e)(Object(p.c)(function(e,t){e.loadingStatusReducer,e.errorsReducer,e.videosJobsReducer;var a=t.ast_jobs,n=(t.media_id,t.job_id);return{hasJobs:Object.keys(a).length>0,ast_jobs:a,job_id:n}})(oa)),la=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"amaraControls"},r.a.createElement("div",null,r.a.createElement("a",{target:"_blank",href:this.props.amaraResource.url},this.props.amaraResource.url)),r.a.createElement("div",{className:"amaraCapStatus"},r.a.createElement("div",null,"Uploaded: ",this.props.amaraResource.captions_uploaded?"True":"False"),r.a.createElement("div",null,"Complete: ",this.props.amaraResource.captions_uploaded?"True":"False")))}}]),t}(n.Component);var ua=Object(m.e)(Object(p.c)(function(e,t){return e.loadingStatusReducer,e.errorsReducer,e.videosJobsReducer,{amaraResource:t.amaraResource}})(la)),da=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={open:!1,caption_select:"",media_select:"",temp_id:"",setOpen:!1,modalStyle:a.getModalStyle(),mediaFiles:a.props.mediaFiles,captionFiles:a.props.captionFiles},a.handleOpen=a.handleOpen.bind(Object(ct.a)(Object(ct.a)(a))),a.handleClose=a.handleClose.bind(Object(ct.a)(Object(ct.a)(a))),a.getModalStyle=a.getModalStyle.bind(Object(ct.a)(Object(ct.a)(a))),a.modalContent=a.modalContent.bind(Object(ct.a)(Object(ct.a)(a))),a.createAmaraResource=a.createAmaraResource.bind(Object(ct.a)(Object(ct.a)(a))),a.addSRTtoAmaraResource=a.addSRTtoAmaraResource.bind(Object(ct.a)(Object(ct.a)(a))),a.updateCapSelectState=a.updateCapSelectState.bind(Object(ct.a)(Object(ct.a)(a))),a.updateMediaSelectState=a.updateMediaSelectState.bind(Object(ct.a)(Object(ct.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"getModalStyle",value:function(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}},{key:"handleOpen",value:function(){this.setState({temp_id:Object(Qe.a)(),setOpen:!0,open:!0})}},{key:"handleClose",value:function(){this.setState({setOpen:!1,open:!1})}},{key:"updateState",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(ut.a)({},n,a))}},{key:"createAmaraResource",value:function(e){""===this.state.media_select?this.props.dispatch(jt(this.props.media_id)):(console.log(this.state.media_select),this.props.dispatch(jt(this.props.media_id,this.state.media_select.file_id)))}},{key:"addSRTtoAmaraResource",value:function(e){var t=this.state.caption_select.caption_id,a=this.props.media_obj.captioned_resources[0].amara_resource.video_id;this.props.dispatch(function(e,t,a){var n=Object(Qe.a)(),r={method:"POST",body:JSON.stringify({action:"attach-amara-caption",caption_id:e,amara_id:t}),headers:{"Content-Type":"application/json"}};return console.log(e,t,a),function(e){return e(pe(!0)),b()("".concat(mt,"/services/amara"),r).then(function(t){t.ok?b()("".concat(mt,"/media?id=").concat(a)).then(function(t){return ht(t,e,n)},function(e){console.log(e)}).then(function(t){bt(t,e,[W],n,pe)}):alert("Something went wrong with upload")})}}(t,a,this.props.media_id))}},{key:"updateCapSelectState",value:function(e){this.setState({caption_select:e})}},{key:"updateMediaSelectState",value:function(e){this.setState({media_select:e})}},{key:"modalContent",value:function(){return r.a.createElement("div",{style:this.state.modalStyle,className:this.props.classes.paper},r.a.createElement("div",null,"Add Amara Resource"),r.a.createElement("div",null,r.a.createElement("label",{style:{display:"block",fontSize:"12px"},form:"caption_select"},"Media Files"),r.a.createElement(gt.a,{name:"media_select",onChange:this.updateMediaSelectState,styles:Et,value:this.state.media_select,options:this.state.mediaFiles})),r.a.createElement(Yt.a,{onClick:this.createAmaraResource},"Create"),r.a.createElement("div",null,"Add Captions"),r.a.createElement("div",null,r.a.createElement("label",{style:{display:"block",fontSize:"12px"},form:"caption_select"},"Caption Files"),r.a.createElement(gt.a,{style:{display:"block"},name:"caption_select",onChange:this.updateCapSelectState,styles:Et,value:this.state.caption_select,options:this.state.captionFiles})),r.a.createElement(Yt.a,{onClick:this.addSRTtoAmaraResource},"Add Caption"))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Yt.a,{style:{maxHeight:"25px",padding:"0px 3px"},variant:"contained",name:"creatAstJob",onClick:this.handleOpen,title:"Send to Ast"},"ADD"),r.a.createElement(ta.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},this.modalContent()))}}]),t}(n.Component);var pa=Object(m.e)(Object(p.c)(function(e,t){var a=e.mediaReducer,n=t.media_id,r=a[n];return{media_id:n,captionFiles:a[n].media_objects.reduce(function(e,t){return null!==t.associated_captions&&e.push({caption_id:t.associated_captions.id,value:t.associated_captions.file_name,label:t.associated_captions.file_name,association_id:t.id}),e},[]),mediaFiles:a[n].media_objects.reduce(function(e,t){return null!==t.associated_files&&e.push({file_id:t.associated_files.id,value:t.associated_files.file_name,label:t.associated_files.file_name,association_id:t.id}),e},[]),media_obj:r}})(Object(aa.a)(function(e){return{paper:{position:"absolute",width:800,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}},{withTheme:!0})(da)));function ma(e){return r.a.createElement("div",{className:"noJobSlug"},"No Amara Resource")}var ha=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"astControls"},r.a.createElement(pa,{media_id:this.props.media_id}),r.a.createElement("div",{className:"astControlsContainer"},this.props.amaraResource&&r.a.createElement(ua,{amaraResource:this.props.amaraResource.amara_resource}),void 0===this.props.amaraResource&&r.a.createElement(ma,null)))}}]),t}(n.Component);var ba=Object(m.e)(Object(p.c)(function(e,t){var a,n=e.loadingStatusReducer,r=(e.errorsReducer,e.mediaReducer),i=t.media_id;return!1===n.mediaLoading&&(a=r[i].captioned_resources[0]),{amaraResource:a}})(ha)),va=a(86),_a=a.n(va),fa=a(155),ja=a.n(fa),Oa=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).prev_value=void 0,a.state={comments:"",job_status:"Queued",output_format:"",priority:!1,request_date:Date(),show_date:Date(),delivered_date:new Date,requester_id:"",rush_service_used:!1,transcripts_only:!1,employee_email:"",employee_first_name:"",employee_last_name:"",ast_job_id:"Not Used",isFocused:!1},a.updateState=a.updateState.bind(Object(ct.a)(Object(ct.a)(a))),a.dispatchInput=a.dispatchInput.bind(Object(ct.a)(Object(ct.a)(a))),a.saveCurrentValue=a.saveCurrentValue.bind(Object(ct.a)(Object(ct.a)(a))),a.handleSetDate=a.handleSetDate.bind(Object(ct.a)(Object(ct.a)(a))),a.saveCurrentDateValue=a.saveCurrentDateValue.bind(Object(ct.a)(Object(ct.a)(a))),a.dispatchDateInput=a.dispatchDateInput.bind(Object(ct.a)(Object(ct.a)(a))),a.deleteRecord=a.deleteRecord.bind(Object(ct.a)(Object(ct.a)(a))),a.jobFocusedStyle=a.jobFocusedStyle.bind(Object(ct.a)(Object(ct.a)(a))),a.setFocus=a.setFocus.bind(Object(ct.a)(Object(ct.a)(a))),a.clearFocus=a.clearFocus.bind(Object(ct.a)(Object(ct.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"deleteRecord",value:function(e){window.confirm("Are you sure you want to delete this record?")&&this.props.dispatch(It(this.props.jobId,"deleted",!0))}},{key:"handleSetDate",value:function(e,t){this.setState(Object(ut.a)({},t,e))}},{key:"saveCurrentDateValue",value:function(e,t){this.prev_value=this.state[t]}},{key:"dispatchDateInput",value:function(e,t){e!==this.prev_value&&this.props.dispatch(Jt(this.props.jobId,t,this.state[t]))}},{key:"updateState",value:function(e){console.log(e);var t=e.target,a="priority"===t.name||"rush_service_used"===t.name||"transcripts_only"===t.name?t.checked:t.value,n=t.name;this.prev_value=this.state[n],this.setState(Object(ut.a)({},n,a))}},{key:"dispatchInput",value:function(e){e.target.value!==this.prev_value&&this.props.dispatch(Jt(this.props.jobId,e.target.name,this.state[e.target.name]))}},{key:"saveCurrentValue",value:function(e){var t=e.target.name;this.prev_value=this.state[t]}},{key:"jobFocusedStyle",value:function(){if(this.state.isFocused)return{background:"linear-gradient(135deg, rgba(255,255,255,1) 0%, rgba(255,255,255,1) 74%, rgba(237,235,235,1) 95%, rgba(207,207,207,1) 98%, rgba(148,148,148,1) 100%)","box-shadow":"6px 8px 3px #808385"}}},{key:"setFocus",value:function(){this.setState({isFocused:!0})}},{key:"clearFocus",value:function(){this.setState({isFocused:!1})}},{key:"componentDidMount",value:function(){var e=this.props.job,t=this.props.employee;this.setState({comments:e.comments,job_status:e.job_status,output_format:e.output_format,priority:e.priority,request_date:e.request_date,show_date:e.show_date,delivered_date:ea()(e.delivered_date).isValid?e.delivered_date:ea()(null),requester_id:e.requester_id,rush_service_used:e.rush_service_used,transcripts_only:e.transcripts_only,ast_job_id:e.ast_job_id,employee_email:t.employee_email,employee_first_name:t.employee_first_name,employee_last_name:t.employee_last_name})}},{key:"render",value:function(){var e,t=this;return r.a.createElement("div",{className:"job-container masterListItem",style:this.jobFocusedStyle(),tabIndex:0,onFocus:this.setFocus,onBlur:this.clearFocus},r.a.createElement("div",{className:"job-container-left",style:{background:(e=this.state.job_status,{Queued:"linear-gradient(to left, rgba(63, 123, 191, 0), rgb(63, 123, 191))",Captioning:"linear-gradient(to left, rgba(172, 57, 91, 0), rgb(172, 57, 91))",Ready:"linear-gradient(to left, rgba(172, 143, 57, 0), rgb(172, 143, 573))",Delivered:"linear-gradient(to left, rgba(114, 172, 57, 0), rgb(114, 172, 57))","On Hold":"linear-gradient(to left, rgba(257, 172, 139, 0), rgb(57, 172, 139))",Cancelled:"linear-gradient(to left, rgba(17, 18, 38, 0), rgb(17, 18, 38))"}[e])}},r.a.createElement("span",{className:"job-status-color"})),r.a.createElement("div",{className:"job-container-right"},r.a.createElement("div",{className:"upperJobContainer"},r.a.createElement("div",{className:"upperJobContainerLeft"},r.a.createElement("div",{tabIndex:0},"Requester Resource: ",this.props.requesterResource)),r.a.createElement("div",{className:"upperJobContainerRight"},r.a.createElement("div",{tabIndex:0,className:"upperJobContainerRightContent"},"Requester: ",this.state.employee_first_name," ",this.state.employee_last_name," "),r.a.createElement("div",{tabIndex:0,className:"upperJobContainerRightContent"},"Email: ",this.state.employee_email),r.a.createElement("div",{className:"upperJobContainerRightContent"},"RID: ",this.state.requester_id),r.a.createElement("div",{className:"deleteJobIcon"},r.a.createElement(ja.a,{onClick:this.deleteRecord})))),r.a.createElement("div",{className:"lowerJobContainer"},r.a.createElement("div",{className:"lowerJobContainerLeft"},r.a.createElement("form",{className:"lowerJobContainerLeftForm"},r.a.createElement("div",{className:"upperJobContainerLeftContent"},r.a.createElement("label",{className:"upperJobContainerLeftLabel"},r.a.createElement("div",null,"Job Status"),r.a.createElement("select",{className:"upperJobContainerLeftContentInput",name:"job_status",onChange:this.updateState,onBlur:this.dispatchInput,onFocus:this.saveCurrentValue,value:this.state.job_status},r.a.createElement("option",{value:"Queued"},"Queued"),r.a.createElement("option",{value:"Captioning"},"Captioning"),r.a.createElement("option",{value:"Ready"},"Ready"),r.a.createElement("option",{value:"Delivered"},"Delivered"),r.a.createElement("option",{value:"On Hold"},"On Hold"),r.a.createElement("option",{value:"Cancelled"},"Cancelled")))),r.a.createElement("div",{className:"upperJobContainerLeftContent"},r.a.createElement("label",{className:"upperJobContainerLeftLabel"},r.a.createElement("div",null,"Output Format"),r.a.createElement("select",{className:"upperJobContainerLeftContentInput",name:"output_format",onFocus:this.saveCurrentValue,onChange:this.updateState,onBlur:this.dispatchInput,value:this.state.output_format},r.a.createElement("option",{value:"Amara"},"Amara"),r.a.createElement("option",{value:"SRT"},".SRT"),r.a.createElement("option",{value:"File"},"File")))),r.a.createElement("div",{className:"upperJobContainerLeftContent"},r.a.createElement("label",{className:"upperJobContainerLeftLabel"},r.a.createElement("div",null,"Request Date"),r.a.createElement(_a.a,{className:"upperJobContainerLeftContentInput",name:"request_date",clearIcon:null,calendarIcon:null,onFocus:function(e){return t.saveCurrentDateValue(e,"request_date")},value:new Date(this.state.request_date),onBlur:function(e){return t.dispatchDateInput(e,"request_date")},onChange:function(e){return t.handleSetDate(e,"request_date")}}))),r.a.createElement("div",{className:"upperJobContainerLeftContent"},r.a.createElement("label",{className:"upperJobContainerLeftLabel"},r.a.createElement("div",null,"Show Date"),r.a.createElement(_a.a,{className:"upperJobContainerLeftContentInput",name:"show_date",clearIcon:null,calendarIcon:null,onFocus:function(e){return t.saveCurrentDateValue(e,"show_date")},value:new Date(this.state.show_date),onBlur:function(e){return t.dispatchDateInput(e,"show_date")},onChange:function(e){return t.handleSetDate(e,"show_date")}}))),r.a.createElement("div",{className:"upperJobContainerLeftContent"},r.a.createElement("label",{className:"upperJobContainerLeftLabel"},r.a.createElement("div",null,"Delivered Date"),r.a.createElement(_a.a,{className:"upperJobContainerLeftContentInput",name:"delivered_date",clearIcon:null,calendarIcon:null,onFocus:function(e){return t.saveCurrentDateValue(e,"delivered_date")},value:this.state.delivered_date,onBlur:function(e){return t.dispatchDateInput(e,"delivered_date")},onChange:function(e){return t.handleSetDate(e,"delivered_date")}}))))),r.a.createElement("div",{className:"lowerJobContainerRight"},r.a.createElement("div",{className:"jobMediaContainer"},this.props.mediaReducer[this.props.mediaId]&&r.a.createElement(Pt,{mediaId:this.props.mediaId})),r.a.createElement("div",{className:"joMediaContentContainer"},r.a.createElement(Xt,{mediaId:this.props.mediaId}))),r.a.createElement("div",{className:"commentsContainer"},r.a.createElement("label",null,"Comments",r.a.createElement("textarea",{className:"commentsInput",type:"input",name:"comments",onFocus:this.saveCurrentValue,value:this.state.comments,onBlur:this.dispatchInput,onChange:this.updateState})))),r.a.createElement("div",{className:"jobControlsBar"},r.a.createElement("form",null,r.a.createElement("label",{style:{"margin-right":"10px"}},"Priority",r.a.createElement("input",{type:"checkbox",name:"priority",checked:this.state.priority,onFocus:this.saveCurrentValue,onBlur:this.dispatchInput,onChange:this.updateState})),r.a.createElement("label",{style:{"margin-right":"10px"}},"Rush Service",r.a.createElement("input",{type:"checkbox",name:"rush_service_used",checked:this.state.rush_service_used,onFocus:this.saveCurrentValue,onBlur:this.dispatchInput,onChange:this.updateState})),r.a.createElement("label",{style:{"margin-right":"10px"}},"Transcripts Requested",r.a.createElement("input",{type:"checkbox",name:"transcripts_only",checked:this.state.transcripts_only,onFocus:this.saveCurrentValue,onBlur:this.dispatchInput,onChange:this.updateState})))),r.a.createElement("div",{className:"pluginControlsContainer"},r.a.createElement("div",{className:"pluginContainer"},r.a.createElement(ca,{job_id:this.props.jobId,ast_jobs:this.props.job.ast_jobs,media_id:this.props.job.media.id})),r.a.createElement("div",{className:"pluginContainer"},r.a.createElement(ba,{media_id:this.props.mediaId})))))}}]),t}(n.Component);var ga=Object(m.e)(Object(p.c)(function(e,t){var a=e.errorsReducer,n=e.videosJobsReducer,r=e.mediaReducer,i=e.requesterReducer,o=(e.coursesReducer,e.employeesReducer),s=e.campusOrgReducer,c=t.props,l=t.jobId,u=n[l],d="";void 0!==u&&(d=u.media.id);var p="",m="";return void 0!==u&&(null!==i[u.requester_id].course_id?m=i[u.requester_id].course_id:(console.log("BEEPPRR{{{{{",s[i[u.requester_id]]),m=s[i[u.requester_id].campus_org_id].organization_name),p=void 0!==o[i[u.requester_id].employee_id]?o[i[u.requester_id].employee_id]:o[i[u.requester_id].org_employee_id]),{errorsReducer:a,videosJobsReducer:n,props:c,job:u,mediaReducer:r,mediaId:d,jobId:l,employee:p,requesterResource:m}})(Oa)),Ea=a(75);var ya=a(582),Ca=a(585),Sa=(a(235),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={videoJobs:[],courseIds:{},filterSelectedCourse:"",job_status_value:"",order_by_value:"",job_status:"semesterJobs"},a.reductionFilter=a.reductionFilter.bind(Object(ct.a)(Object(ct.a)(a))),a.removeFilters=a.removeFilters.bind(Object(ct.a)(Object(ct.a)(a))),a.orderByFilter=a.orderByFilter.bind(Object(ct.a)(Object(ct.a)(a))),a.updateJobStatusFilter=a.updateJobStatusFilter.bind(Object(ct.a)(Object(ct.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"removeFilters",value:function(e){var t=this;13!==e.charCode&&"click"!==e.type||this.setState({videoJobs:Object.keys(this.props.videosJobsReducer).map(function(e){return t.props.videosJobsReducer[e]}),job_status_value:"",order_by_value:"",filterSelectedCourse:""})}},{key:"reductionFilter",value:function(e,t){var a=this.state.videoJobs.reduce(function(a,n){return n[t]===e[t]&&a.push(n),a},[]);switch(t){case"job_status":this.setState({videoJobs:a,job_status_value:e});break;case"requester_id":this.setState({videoJobs:a,filterSelectedCourse:e})}}},{key:"orderByFilter",value:function(e,t){var a=this.state.videoJobs.sort(function(e,a){return ea()(a[t])-ea()(e[t])});this.setState({videoJobs:a,order_by_value:e})}},{key:"updateJobStatusFilter",value:function(e){var t=this;this.setState({job_status:e,videoJobs:this.props[e].map(function(e){return t.props.videosJobsReducer[e]})})}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;""===this.state.filterSelectedCourse&&""===this.state.job_status_value&&""===this.state.order_by_value&&this.state.videoJobs.length!==this.props[this.state.job_status].length&&this.setState({videoJobs:this.props[this.state.job_status].map(function(e){return n.props.videosJobsReducer[e]})})}},{key:"componentDidMount",value:function(){var e=this;this.setState({videoJobs:this.props.semesterJobs.map(function(t){return e.props.videosJobsReducer[t]})})}},{key:"render",value:function(){var e=this;console.log("SDGSDGSDG",this.state.videoJobs,this.state.job_status);var t=[];return this.props.videoJobsLoading||(this.state.videoJobs.length>0&&(t=this.state.videoJobs.map(function(e,t){if(void 0!==this.props.videosJobsReducer[e.id])return r.a.createElement(ya.a,{classNames:"item",timeout:200,key:e.id},r.a.createElement(ga,{key:e.id,jobId:e.id}))},this)),0===t.length&&(t=r.a.createElement("div",{key:"1"},"No Videos"))),r.a.createElement("div",{className:"JobManagementControlContainer"},r.a.createElement("div",{className:"control-bar"},r.a.createElement("div",{className:"controlBarNavButtons"},r.a.createElement("div",{tabIndex:0,role:"button",className:"navButton",onClick:function(){return e.updateJobStatusFilter("semesterJobs")},onKeyPress:function(t){"Enter"===t.key&&e.updateJobStatusFilter("semesterJobs")}},"Semester Jobs ",r.a.createElement("span",{className:"jobCount"},this.props.semesterJobsCount)),r.a.createElement("div",{tabIndex:0,role:"button",className:"navButton",onClick:function(){return e.updateJobStatusFilter("activeJobs")},onKeyPress:function(t){"Enter"===t.key&&e.updateJobStatusFilter("activeJobs")}},"Active Jobs ",r.a.createElement("span",{className:"jobCount"},this.props.activeJobsCount)),r.a.createElement("div",{tabIndex:0,role:"button",className:"navButton",onClick:function(){return e.updateJobStatusFilter("completeJobs")},onKeyPress:function(t){"Enter"===t.key&&e.updateJobStatusFilter("completeJobs")}},"Complete Jobs ",r.a.createElement("span",{className:"jobCount"},this.props.completeJobsCount)))),r.a.createElement("div",{className:"filtersMainContainer"},r.a.createElement("div",{className:"jobManagementFilters"},r.a.createElement("div",{className:"filtersOuterContainer"},r.a.createElement("div",{className:"requesterFilterContainer"},r.a.createElement("label",null,r.a.createElement("div",{className:"filterTitles"},"Job Status"),r.a.createElement(gt.a,{styles:Et,options:[{value:"Queued",label:"Queued",job_status:"Queued"},{value:"Captioning",label:"Captioning",job_status:"Captioning"},{value:"Ready",label:"Ready",job_status:"Ready"},{value:"Delivered",label:"Delivered",job_status:"Delivered"},{value:"Cancelled",label:"Cancelled",job_status:"Cancelled"},{value:"On Hold",label:"On Hold",job_status:"On Hold"}],value:this.state.job_status_value,onChange:function(t,a,n){return e.reductionFilter(t,"job_status")}}))),r.a.createElement("div",{className:"requesterFilterContainer"},r.a.createElement("label",null,r.a.createElement("div",{className:"filterTitles"},"Requester"),r.a.createElement(gt.a,{styles:Et,options:this.props.courseSelectorContent,value:this.state.filterSelectedCourse,onChange:function(t,a,n){return e.reductionFilter(t,"requester_id")}}))),r.a.createElement("div",{className:"requesterFilterContainer"},r.a.createElement("label",null,r.a.createElement("div",{className:"filterTitles"},"Order By"),r.a.createElement(gt.a,{styles:Et,value:this.state.order_by_value,options:[{value:"request_date",label:"Request Date",date:"request_date"},{value:"show_date",label:"Show Date",date:"show_date"},{value:"delivered_date",label:"Delivered Date",date:"delivered_date"}],onChange:function(t,a,n){return e.orderByFilter(t,t.date)}}))),r.a.createElement("div",null,r.a.createElement(ja.a,{tabIndex:0,onKeyPress:this.removeFilters,onClick:this.removeFilters}))))),r.a.createElement("div",{className:"contentContainer jobContentContainer"},r.a.createElement(Ca.a,null,t)))}}]),t}(n.Component));var Ra=Object(m.e)(Object(p.c)(function(e,t){var a=e.loadingStatusReducer,n=(e.errorsReducer,e.videosJobsReducer),r=e.requesterReducer,i=e.coursesReducer,o=t.jobsLoading,s={},c=[],l=Object.keys(n),u=Object.keys(n).filter(function(e){return"Queued"===n[e].job_status||"Captioning"===n[e].job_status||"Ready"===n[e].job_status}),d=Object.keys(n).filter(function(e){return"Delivered"===n[e].job_status});if(Object.keys(r).length>0&&Object.keys(n).length>0){var p=Object.keys(n).map(function(e){return n[e].requester_id});s=p.reduce(function(e,t){return e[t]={id:r[t].id,course_id:r[t].course_id},e},{}),c=p.map(function(e){return{value:r[e].course_id,label:r[e].course_id,requester_id:r[e].id}}).reduce(function(e,t){return e.some(function(e){return e.requester_id===t.requester_id})?e:[].concat(Object(Ea.a)(e),[t])},[])}return{videosJobsReducer:n,jobsLoading:o,requesterReducer:r,coursesReducer:i,requester:s,courseSelectorContent:c,videoJobsLoading:a.videoJobsLoading,activeJobs:u,semesterJobs:l,completeJobs:d,semesterJobsCount:l.length,activeJobsCount:u.length,completeJobsCount:d.length}})(Sa)),ka=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"ContentManagementMasterContainer"},r.a.createElement(Ra,{jobsLoading:this.props.jobsLoading}))}}]),t}(n.Component);var wa=Object(m.e)(Object(p.c)(function(e,t){var a=e.loadingStatusReducer,n=e.errorsReducer,r=(e.videosJobsReducer,t.props);return{errorsReducer:n,jobsLoading:a.videoJobsLoading,props:r}})(ka)),Na=(a(236),a(237),function(e,t,a,n,r,i){var o=document.createElement("input");return o.setAttribute("id","date_picker"),o.setAttribute("type","date"),o.style.padding="3px",o.style.width="100%",o.style.boxSizing="border-box",o.value=$t(e.getValue(),$t.ISO_8601).format("MM/DD/YYYY"),t(function(){o.focus()}),o.addEventListener("change",function(){a($t(o.value,$t.ISO_8601).format("MM/DD/YYYY"))}),o.addEventListener("blur",function(){n($t(o.value,$t.ISO_8601).format("MM/DD/YYYY"))}),o}),Ja=function(e){return null===e||"Please enter show date"===e?"Please enter show date":$t(e).format("MM/DD/YYYY")},Ia=function(e){return{true:!1,false:!0,null:!0}[e]},Fa=function(e){return{true:!1,false:!0,null:!0}[e]},Da=function(e){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 7H9.5v-.5h-2v3h2V13H11v1c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1zm7 0h-1.5v-.5h-2v3h2V13H18v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1z"}))},La=a(580),Aa=a(216),xa=a.n(Aa),Ta=a(215),qa=a.n(Ta),Ma=(a(238),a(108)),Ua=a.n(Ma),Ba=a(586),Pa=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).dataEditedFunc=function(e){var t,n;a.props.dispatch((t=e._cell.row.data.id,n={column:e._cell.column.field,value:e._cell.value},{type:qe,temp_id:t,job_info:n}))},a.columns=[{title:"Remove",field:"remove",align:"center",width:60,formatter:"buttonCross",cellClick:function(e,t){return a.removeItem(e,t)}},{title:"Requester",width:150,field:"requester_name"},{title:"Title",field:"video_title"},{title:"URL",field:"video_url"},{title:"Show Date",editor:Na,width:120,field:"show_date"},{title:"Delivery Format",editor:"select",width:80,field:"delivery_format",editorParams:{Amara:"Amara",SRT:"SRT","Video File":"Video File"}}],a.el=r.a.createRef(),a.tabulator=null,a.ref=null,a.dataEditedFunc=a.dataEditedFunc.bind(Object(ct.a)(Object(ct.a)(a))),a.removeItem=a.removeItem.bind(Object(ct.a)(Object(ct.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"buildTabulator",value:function(){this.props.videoJobsList.length>0&&(this.tabulator=new Ua.a(this.el,{columns:this.columns,layout:"fitColumns",data:this.props.videoJobsList,reactiveData:!0,cellEdited:this.dataEditedFunc}),this.tabulator.replaceData(this.props.videoJobsList))}},{key:"removeItem",value:function(e,t){var a=t._cell.row.data.id;this.props.dispatch(function(e){return{type:Me,transaction_id:e}}(a))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"preparedJobsContainer"},0===this.props.videoJobsList.length&&r.a.createElement(Va,null),this.props.videoJobsList.length>0&&r.a.createElement("div",{ref:function(t){return e.el=t}}))}},{key:"componentDidUpdate",value:function(e,t,a){this.buildTabulator()}}]),t}(n.Component);function Va(){return r.a.createElement("div",{className:"emptyCreatedJobsContainer"},r.a.createElement("div",{className:"emptyCreatedJobsContainerText"},r.a.createElement("div",{style:{"text-align":"center"}},"No Jobs Created"),r.a.createElement("div",null,"Select Requester To Begin")))}var za=Object(m.e)(Object(p.c)(function(e,t){var a=e.tempJobsFormReducer,n=e.requesterReducer,r=e.campusOrgReducer,i=t.props,o=[];return Object.keys(a).forEach(function(e){!0===a[e].meta.created&&o.push(function(e){return{id:e.meta.transaction_id,requester_name:(t=e.meta.requester_id,n[t].course_id?n[t].course_id:r[n[t].campus_org_id].organization_name),video_title:e.video.title,video_url:e.video.source_url,show_date:Ja(e.job_info.show_date),delivery_format:e.job_info.delivery_format};var t}(a[e]))}),{videoJobsList:o,tempJobsFormReducer:a,props:i}})(Pa)),Ha=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.selected_rows.forEach(function(t){console.log(e.props.requester_id),console.log("INNER FARTS",t);var a=Object(Qe.a)();e.props.dispatch(Be(a,e.props.requester_id)),e.props.dispatch(_t(t._row.data.title,t._row.data.resource_link,"URL",a));var n=Object.keys(e.props.requesterReducer).find(function(t){return e.props.requesterReducer[t].course_id===e.props.course_gen_id}),r={show_date:ea()(t._row.data.indicated_due_date,"MM/DD/YYYY",!0).isValid()?t._row.data.indicated_due_date:ea()().add(2,"days"),delivery_format:"Amara",comments:"Added from iLearn Page",requester_id:n,semester:e.props.semester};console.log(r),e.props.dispatch(ze(a,r)),e.props.dispatch(He(a,!0))})}},{key:"componentWillUnmount",value:function(){this.props.dispatch(Ge()),this.props.dispatch(Ne())}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(za,null))}}]),t}(n.Component);var Ga=Object(m.e)(Object(p.c)(function(e,t){var a=e.globalsReducer,n=e.coursesReducer,r=e.requesterReducer,i=t.course_gen_id,o=t.selected_rows,s=a.currentSemester,c=Object.keys(r).find(function(e){if(r[e].course_id===i)return r[e].id});return{requesterReducer:r,coursesReducer:n,course_gen_id:i,selected_rows:o,requester_id:c,semester:s}})(Ha)),Ya=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={open:!1,setOpen:!1,modalStyle:a.getModalStyle()},a.handleOpen=a.handleOpen.bind(Object(ct.a)(Object(ct.a)(a))),a.handleClose=a.handleClose.bind(Object(ct.a)(Object(ct.a)(a))),a.getModalStyle=a.getModalStyle.bind(Object(ct.a)(Object(ct.a)(a))),a.submitVideoJobs=a.submitVideoJobs.bind(Object(ct.a)(Object(ct.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"submitVideoJobs",value:function(){var e=this;this.props.selected_rows.forEach(function(t){t.update({submitted_for_processing:!0});var a=t._row.data;e.props.dispatch(Nt(a.id,"submitted_for_processing",!0))}),this.props.dispatch(vt(this.props.tempJobsFormReducer)),this.props.dispatch(Ne()),this.props.dispatch(Ge())}},{key:"getModalStyle",value:function(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}},{key:"handleOpen",value:function(){this.setState({setOpen:!0,open:!0})}},{key:"handleClose",value:function(){this.setState({setOpen:!1,open:!1})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Yt.a,{size:"small",disabled:this.props.disabled,type:"button",onClick:this.handleOpen},"CREATE JOB"),r.a.createElement(ta.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},r.a.createElement("div",{style:this.state.modalStyle,className:this.props.classes.paper},r.a.createElement("h2",{id:"simple-modal-title"},"Create Jobs"),r.a.createElement(Ga,{course_gen_id:this.props.course_gen_id,selected_rows:this.props.selected_rows}),r.a.createElement(Yt.a,{size:"small",disabled:0===Object.keys(this.props.tempJobsFormReducer).length,onClick:this.submitVideoJobs},"Create Jobs"))))}}]),t}(n.Component);var Wa=Object(m.e)(Object(p.c)(function(e,t){return{tempJobsFormReducer:e.tempJobsFormReducer,course_gen_id:t.course_gen_id,selected_rows:t.selected_rows}})(Object(aa.a)(function(e){return{paper:{position:"absolute",width:800,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}},{withTheme:!0})(Ya))),Qa=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).passed=function(e){var t=a.props.selected_rows.map(function(e){return e._row.data.id});a.props.dispatch(Ft(t,"auto_caption_passed",!0)),a.props.table.deselectRow()},a.ignore=function(e){var t=a.props.selected_rows.map(function(e){return e._row.data.id});a.props.dispatch(Ft(t,"ignore_video",!0)),a.props.table.deselectRow()},a.remove=function(e){var t=a.props.selected_rows.map(function(e){return e._row.data.id});a.props.dispatch(Ft(t,"invalid_link",!0)),a.props.table.deselectRow()},a.selectable=function(){return a.props.selected_rows.length>0},a.noTitle=function(){return a.props.selected_rows.some(function(e){return null===e.title})},a.passed=a.passed.bind(Object(ct.a)(Object(ct.a)(a))),a.ignore=a.ignore.bind(Object(ct.a)(Object(ct.a)(a))),a.remove=a.remove.bind(Object(ct.a)(Object(ct.a)(a))),a.selectable=a.selectable.bind(Object(ct.a)(Object(ct.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.selectable()},this.selectable()?r.a.createElement(Yt.a,{size:"small",onClick:function(t){return e.passed(t)}},"Passed"):r.a.createElement(Yt.a,{size:"small",disabled:!0,onClick:function(t){return e.passed(t)}},"Passed"),this.selectable()?r.a.createElement(Yt.a,{size:"small",onClick:function(t){return e.ignore(t)}},"Ignore"):r.a.createElement(Yt.a,{size:"small",disabled:!0,onClick:function(t){return e.ignore(t)}},"Ignore"),this.selectable()?r.a.createElement(Yt.a,{size:"small",onClick:function(t){return e.remove(t)}},"Remove"):r.a.createElement(Yt.a,{size:"small",disabled:!0,onClick:function(t){return e.remove(t)}},"Remove"),this.selectable()&&!this.noTitle()?r.a.createElement(Wa,{disabled:!1,selected_rows:this.props.selected_rows,course_gen_id:this.props.course_gen_id}):r.a.createElement(Wa,{disabled:!0,selected_rows:this.props.selected_rows,course_gen_id:this.props.course_gen_id}))}}]),t}(n.Component);var Ka=Object(m.e)(Object(p.c)(function(e,t){var a=t.course_gen_id,n=t.selected_rows,r=t.table;return console.log("ROWS",r),{state:e,course_gen_id:a,selected_rows:n}})(Qa)),Xa=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).SubmitButton=function(e){var t=e.cell,n=a.state.selected_rows.length>0;return!1===t._cell.value||null===t._cell.value?n?r.a.createElement(Ut.a,{size:"small",disabled:!0},r.a.createElement(qa.a,null)):r.a.createElement(Ut.a,{size:"small",onClick:function(e){return a.submitCap(e,t)}},r.a.createElement(qa.a,null)):n?r.a.createElement(Ut.a,{size:"small",disabled:!0},r.a.createElement(xa.a,null)):r.a.createElement(Ut.a,{size:"small",onClick:function(e){return a.submitCap(e,t)}},r.a.createElement(xa.a,null))},a.closedCaptionLink=function(e){var t=e.cell;return t._cell.row.data.captioned_link?r.a.createElement(Ba.a,{title:t._cell.value},r.a.createElement(Yt.a,{size:"small",onClick:function(e){return window.open(t._cell.value,"_blank")}},r.a.createElement(Da,null))):!0===t._cell.row.data.captioned?r.a.createElement(Ba.a,{title:t._cell.row.data.resource_link},r.a.createElement(Yt.a,{size:"small",onClick:function(e){return window.open(t._cell.row.data.resource_link,"_blank")}},r.a.createElement(Da,null))):""},a.isCaptionedButton=function(e){var t=e.cell,n=a.state.selected_rows.length>0;return!1===t._cell.value?n?r.a.createElement(Yt.a,{size:"small",color:"secondary",disabled:!0},"Unavailable"):r.a.createElement(Yt.a,{size:"small",color:"secondary",onClick:function(e){return a.submitCapStatus(e,t)}},"Unavailable"):!0===t._cell.value?n?r.a.createElement(Yt.a,{size:"small",color:"primary",disabled:!0},"Available"):r.a.createElement(Yt.a,{size:"small",color:"primary",onClick:function(e){return a.submitCapStatus(e,t)}},"Available"):null===t._cell.value?n?r.a.createElement(Yt.a,{size:"small",color:"tertiary",disabled:!0},"Unknown"):r.a.createElement(Yt.a,{size:"small",color:"tertiary",onClick:function(e){return a.submitCapStatus(e,t)}},"Unknown"):void 0},a.dataEditedFunc=function(e){a.props.dispatch(Nt(e._cell.row.data.id,e._cell.column.field,e._cell.value))},a.cellClick=function(e,t){console.log("ref table: ",a.ref.table),console.log("rowClick id: ${row.getData().id}",t,e)},a.submitCap=function(e,t){e.preventDefault();var n=Fa(t._cell.value);a.props.dispatch(Nt(t._cell.row.data.id,t._cell.column.field,n))},a.submitCapStatus=function(e,t){e.preventDefault();var n=Ia(t._cell.value);a.props.dispatch(Nt(t._cell.row.data.id,t._cell.column.field,n))},a.isChecked=function(e){return e.cell._cell.row.modules.hasOwnProperty("select")?!1===e.cell._cell.row.modules.select.selected?r.a.createElement(La.a,{size:"small",onClick:function(t){return a.checkBoxFunction(t,e)}}):r.a.createElement(La.a,{size:"small",checked:!0,onClick:function(t){return a.checkBoxFunction(t,e)}}):r.a.createElement(La.a,{size:"small",onClick:function(t){return a.checkBoxFunction(t,e)}})},a.checkBoxFunction=function(e,t){if("click"===e.type)if(!1===t.cell._cell.row.modules.select.selected){t.cell._cell.table.selectRow(t.cell._cell.row.data.id);var n=t.cell._cell.table.getSelectedRows();a.setState({selected_rows:n})}else{t.cell._cell.table.deselectRow(t.cell._cell.row.data.id);var r=t.cell._cell.table.getSelectedRows();a.setState({selected_rows:r})}},a.columns=[{title:"Title",field:"title",editor:"input"},{title:"Captioned",field:"captioned",width:130,align:"center",formatter:Object(Zt.reactFormatter)(r.a.createElement(this.isCaptionedButton,null))},{title:"CC",width:75,field:"captioned_link",align:"center",formatter:Object(Zt.reactFormatter)(r.a.createElement(this.closedCaptionLink,null))},{title:"Show Date",editor:Na,field:"indicated_due_date",width:160},{title:"Link",field:"resource_link",width:350,widthShrink:1,formatter:"link",tooltip:!0,formatterParams:{target:"_blank",urlField:"resource_link"}},{title:"Scan Date",align:"center",field:"scan_date",width:105},{title:"Submitted",field:"submitted_for_processing",align:"center",width:100,formatter:Object(Zt.reactFormatter)(r.a.createElement(this.SubmitButton,null))},{title:"Section",field:"page_section",align:"center",width:80},{title:"Select",width:60,align:"center",formatter:Object(Zt.reactFormatter)(r.a.createElement(this.isChecked,null))}],a.state={selected_rows:[]},a.el=r.a.createRef(),a.tabulator=null,a.ref=null,a.SubmitButton=a.SubmitButton.bind(Object(ct.a)(Object(ct.a)(a))),a.closedCaptionLink=a.closedCaptionLink.bind(Object(ct.a)(Object(ct.a)(a))),a.isCaptionedButton=a.isCaptionedButton.bind(Object(ct.a)(Object(ct.a)(a))),a.dataEditedFunc=a.dataEditedFunc.bind(Object(ct.a)(Object(ct.a)(a))),a.cellClick=a.cellClick.bind(Object(ct.a)(Object(ct.a)(a))),a.submitCap=a.submitCap.bind(Object(ct.a)(Object(ct.a)(a))),a.submitCapStatus=a.submitCapStatus.bind(Object(ct.a)(Object(ct.a)(a))),a.checkBoxFunction=a.checkBoxFunction.bind(Object(ct.a)(Object(ct.a)(a))),a.cellClick=a.cellClick.bind(Object(ct.a)(Object(ct.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.tableData=this.props.videosList,this.tabulator=new Ua.a(this.el,{columns:this.columns,layout:"fitColumns",data:this.props.videosList,cellEdited:this.dataEditedFunc,reactiveData:!0,rowFormatter:function(e){!0===e.getData().ignore_video&&(e.getElement().classList.remove("tabulator-selectable"),e.getElement().classList.add("ignore-video")),!0===e.getData().video_passed&&(e.getElement().classList.remove("tabulator-selectable"),e.getElement().classList.add("video-passed"))},initialFilter:[{field:"invalid_link",type:"!=",value:!0}]})}},{key:"componentDidUpdate",value:function(e,t,a){JSON.stringify(e.videosList)!==JSON.stringify(this.props.videosList)&&this.tabulator.replaceData(this.props.videosList);var n=this.state.selected_rows.map(function(e){return e.id});this.tabulator.selectRow(n),this.tabulator.redraw()}},{key:"shouldComponentUpdate",value:function(e,t,a){var n=t.selected_rows.map(function(e){return e.id}),r=this.state.selected_rows.map(function(e){return e.id}),i=n.length!==r.length,o=JSON.stringify(e.videosList)!==JSON.stringify(this.props.videosList);return i||o}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"tabMainContainer"},r.a.createElement("div",{className:"tabUpperContainer"},r.a.createElement(Ka,{table:this.tabulator,course_gen_id:this.props.course_id,selected_rows:this.state.selected_rows})),r.a.createElement("div",{className:"tabLowerContainer"},r.a.createElement("div",{ref:function(t){return e.el=t}})))}}]),t}(n.Component);var Za=Object(m.e)(Object(p.c)(function(e,t){e.iLearnVideoReducer,e.loadingStatusReducer,e.coursesReducer;var a=t.course_gen_id,n=t.ilearnvideos,r=[];return Object.keys(n).forEach(function(e){return r.push(function(e){return{id:e.id,title:e.title,captioned:e.captioned,captioned_link:null==e.captioned_version?null:e.captioned_version.captioned_url,indicated_due_date:Ja(e.indicated_due_date),resource_link:e.resource_link,scan_date:ea()(e.scan_date).format("MM-DD-YY"),submitted_for_processing:e.submitted_for_processing,page_section:e.page_section,ignore_video:e.ignore_video,invalid_link:e.invalid_link,video_passed:e.auto_caption_passed}}(n[e]))}),{videosList:r,course_id:a}})(Xa)),$a=(a(171),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).ilearnPage=je()+a.props.ilearnId,a.state={ilearn_video_active_check:!1,ignore_course_check:!1,course_comments:""},a.handleInputChange=a.handleInputChange.bind(Object(ct.a)(Object(ct.a)(a))),a.submitCommentsChange=a.submitCommentsChange.bind(Object(ct.a)(Object(ct.a)(a))),a.updateCommentsChange=a.updateCommentsChange.bind(Object(ct.a)(Object(ct.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({ilearn_video_active_check:this.props.ilearn_video_active_check,course_comments:this.props.course_comments})}},{key:"handleInputChange",value:function(e){var t=e.target,a=!0===t.checked,n=t.name;this.setState(Object(ut.a)({},n,a)),"ilearn_video_active_check"===n&&this.props.dispatch(wt(this.props.course_id,"ilearn_video_service_requested",a)),"ignore_course_check"===n&&this.props.dispatch(wt(this.props.course_id,"ignore_course_ilearn_videos",a)),"course_comments"===n&&this.props.dispatch(wt(this.props.course_id,"course_comments",a))}},{key:"updateCommentsChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(ut.a)({},n,a))}},{key:"submitCommentsChange",value:function(e){var t=e.target,a=t.value;t.name;this.props.dispatch(wt(this.props.course_id,"course_comments",a))}},{key:"render",value:function(){return r.a.createElement("div",{className:"courseContainer masterListItem"},r.a.createElement("div",{className:"courseUpperContainer"},r.a.createElement("div",{className:"courseUpperContainerLeft"},"Course: ",this.props.course_name,".",this.props.courseSection),r.a.createElement("div",{className:"courseUpperContainerRight"},r.a.createElement("div",{className:"infoContainerLeft"},r.a.createElement("div",null,"Students Enrolled: ",this.props.numStudentsEnrolled),r.a.createElement("div",null,"Captioning Requested: ",!0===this.props.studentRequestsCaptioning?"Yes":"No"),r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"ilearn_video_active_check"},"iLearn Video Active"),r.a.createElement("input",{checked:this.state.ilearn_video_active_check,onChange:this.handleInputChange,name:"ilearn_video_active_check",id:"ilearn_video_active_check",type:"checkbox"}),r.a.createElement("label",{htmlFor:"ignore_course_check"},"Ignore Course"),r.a.createElement("input",{checked:this.state.ignore_course_check,onChange:this.handleInputChange,name:"ignore_course_check",id:"ignore_course_check",type:"checkbox"})))),r.a.createElement("div",{className:"infoContainerRight"},r.a.createElement("div",{className:"infoContainerRight"},r.a.createElement("div",null,r.a.createElement("textarea",{value:this.state.course_comments,onBlur:this.submitCommentsChange,onChange:this.updateCommentsChange,name:"course_comments",id:"course_comments",rows:4})),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("b",null,"Semester: "),this.props.semester),r.a.createElement("div",null,"ilearnID: ",r.a.createElement("a",{href:this.ilearnPage},this.props.ilearnId)," ")))))),r.a.createElement("div",{className:"courseLowerContainer"},!0===this.props.courseHasVideos&&r.a.createElement(Za,{ilearnvideos:this.props.courseilearnvideos,course_gen_id:this.props.course_id}),!1===this.props.courseHasVideos&&r.a.createElement("div",{className:"courseNoVideos"},"Course Has No Videos")))}}]),t}(n.Component));var en=Object(m.e)(Object(p.c)(function(e,t){var a=e.loadingStatusReducer,n=e.coursesReducer,r=t.course_id,i=t.ilearnvideos,o=0,s=!1,c=null,l={},u="",d="",p="",m="";!1===a.coursesLoading&&!1===a.iLearnVideosLoading&&Object.keys(n).length>0&&(c=null!==n[r].ilearn_video_service_requested&&n[r].ilearn_video_service_requested,Object.keys(n[r].students_enrolled).forEach(function(e){!0===n[r].students_enrolled[e].student_enrolled&&(o+=1,!0===n[r].students_enrolled[e].student_requests_captioning&&(s=!0))}),l=i[r],u=n[r].course_name,d=n[r].course_section,p=n[r].semester,m=null==n[r].ilearn_page_id?"No iLearn ID":n[r].ilearn_page_id.ilearn_page_id);var h=Object.keys(l).length>0;return{ilearnId:m,semester:p,courseSection:d,course_name:u,course_id:r,courseHasVideos:h,numStudentsEnrolled:o,studentRequestsCaptioning:s,courseilearnvideos:l,ilearn_video_active_check:c,course_comments:n[r].course_comments}})($a)),tn=a(576),an=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"courseContainer"},r.a.createElement("div",{className:"courseUpperContainer"},r.a.createElement("div",{className:"courseUpperContainerLeft"},"Course: ",this.props.course_name,".",this.props.courseSection),r.a.createElement("div",{className:"courseUpperContainerRight"},this.props.semester,this.props.ilearnId)),r.a.createElement("div",{className:"courseLowerContainer"},"Videos Loading",r.a.createElement(tn.a,null)))}}]),t}(n.Component);Object(m.e)(Object(p.c)(function(e,t){var a=e.iLearnVideoReducer,n=e.loadingStatusReducer,r=e.coursesReducer,i=r[t.course_id].course_name,o=a.hasOwnProperty(t.course_id),s=r[t.course_id].course_section,c=r[t.course_id].semester;return{ilearnId:null==r[t.course_id].ilearn_page_id?"No iLearn ID":r[t.course_id].ilearn_page_id.ilearn_page_id,semester:c,courseSection:s,course_name:i,course_id:t,courseHasVideos:o,iLearnVideosLoading:n.iLearnVideosLoading&&0===Object.keys(a).length}})(an));var nn=a(61),rn=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).renderRow=function(e,t,n,i){return r.a.createElement(nn.b,{key:e.key,cache:a.state.cache,parent:e.parent,columnIndex:0,rowIndex:e.index},r.a.createElement("div",{style:e.style,className:"row"},r.a.createElement("div",{className:"content"},r.a.createElement(en,{ilearnvideos:a.props.courseilearnVideos,course_id:a.state.captioningCourses[e.index],key:a.state.captioningCourses[e.index]}))))},a.state={cache:new nn.c({fixedWidth:!0,defaultHeight:200})},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){!0===this.props.studentActive?this.setState({cache:new nn.c({fixedWidth:!0,defaultHeight:200}),ilearnVideoRowCount:Object.keys(this.props.requests_captioning).length,captioningCourses:Object.keys(this.props.requests_captioning)}):this.setState({cache:new nn.c({fixedWidth:!0,defaultHeight:200}),ilearnVideoRowCount:Object.keys(this.props.no_captioning).length,captioningCourses:Object.keys(this.props.no_captioning)})}},{key:"componentDidUpdate",value:function(e,t,a){Object.keys(this.props.coursesReducer).length!==Object.keys(e.coursesReducer).length&&(console.log("ZORRPPSS",Object.keys(this.props.coursesReducer).length,Object.keys(e.coursesReducer).length),!0===this.props.studentActive?this.setState({cache:new nn.c({fixedWidth:!0,defaultHeight:200}),ilearnVideoRowCount:Object.keys(this.props.requests_captioning).length,captioningCourses:Object.keys(this.props.requests_captioning)}):this.setState({cache:new nn.c({fixedWidth:!0,defaultHeight:200}),ilearnVideoRowCount:Object.keys(this.props.no_captioning).length,captioningCourses:Object.keys(this.props.no_captioning)})),this.props.studentActive!==e.studentActive&&(console.log("RESETTTINNGGGGGG"),!0===this.props.studentActive?this.setState({cache:new nn.c({fixedWidth:!0,defaultHeight:200}),ilearnVideoRowCount:Object.keys(this.props.requests_captioning).length,captioningCourses:Object.keys(this.props.requests_captioning)}):this.setState({cache:new nn.c({fixedWidth:!0,defaultHeight:200}),ilearnVideoRowCount:Object.keys(this.props.no_captioning).length,captioningCourses:Object.keys(this.props.no_captioning)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"iLearnContentContainer"},0===Object.keys(this.props.courseilearnVideos).length&&"No iLearn Videos",Object.keys(this.props.courseilearnVideos).length>0&&this.props.showCourseStubs&&r.a.createElement(tn.a,null),Object.keys(this.props.courseilearnVideos).length>0&&!this.props.showCourseStubs&&r.a.createElement("div",{className:"list"},r.a.createElement(nn.a,null,function(t){var a=t.width,n=t.height;return r.a.createElement(nn.d,{width:a,height:n,deferredMeasurementCache:e.state.cache,rowHeight:e.state.cache.rowHeight,rowRenderer:e.renderRow,rowCount:e.state.ilearnVideoRowCount,overscanRowCount:1})}))))}}]),t}(n.Component);var on=Object(m.e)(Object(p.c)(function(e,t){var a=e.iLearnVideoReducer,n=e.loadingStatusReducer,r=e.coursesReducer,i=t.studentActive,o=n.coursesLoading&&0===Object.keys(r).length,s=n.iLearnVideosLoading&&0===Object.keys(a).length,c=o||s,l={},u={},d=Object(dt.a)({},a),p={};function m(e,t,a){return!0===e.student_requests_captioning}Object.keys(r).forEach(function(e){p[e]={},Object.keys(d).forEach(function(t){d[t].course_gen_id===e&&(p[e][t]=d[t],delete d[t])})});var h=!o&&!s&&Object.keys(p).length>0;return Object.keys(r).forEach(function(e){!0===r[e].students_enrolled.some(m)?l[e]=r[e]:u[e]=r[e]}),{courseIsLoading:o,coursesReducer:r,showCourseStubs:c,showCourseContainer:h,requests_captioning:l,no_captioning:u,courseilearnVideos:p,studentActive:i}})(rn)),sn=a(577),cn=a(579),ln=a(587),un=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={itemFound:!1,itemNotFound:!1,startedSearch:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){var n={itemFound:this.props.itemFound,itemNotFound:this.props.itemNotFound,startedSearch:this.props.startedSearch};JSON.stringify(n)!==JSON.stringify(this.state)&&this.setState({itemFound:this.props.itemFound,itemNotFound:this.props.itemNotFound,startedSearch:this.props.startedSearch})}},{key:"componentDidMount",value:function(){this.setState({itemFound:this.props.itemFound,itemNotFound:this.props.itemNotFound,startedSearch:this.props.startedSearch})}},{key:"render",value:function(){return r.a.createElement("div",{className:"videoSearchFeedbackInnerContainer"},!this.state.startedSearch&&r.a.createElement(mn,null),this.state.startedSearch&&this.state.itemFound&&r.a.createElement(dn,{capUrl:this.props.captionUrl,source:this.props.mediaSearchReducer[this.props.transaction_id]}),this.state.startedSearch&&this.state.itemNotFound&&r.a.createElement(pn,{source:this.props.errorsReducer[this.props.transaction_id]}))}}]),t}(n.Component);function dn(e){var t=e.source?e.source.title:"",a=e.source?e.source.source_url:"",n=e.capUrl?e.capUrl:void 0;return r.a.createElement("div",{className:"feedbackSlug"},r.a.createElement("div",null,t),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("div",null,"Source URL"),r.a.createElement("div",null,r.a.createElement("a",{href:a},a))),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("div",null,"Captioned URL"),r.a.createElement("div",null,n?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("a",{href:n},n)),r.a.createElement("div",null,r.a.createElement("br",null),"Download: ",r.a.createElement("a",{href:" "},".SRT")," | ",r.a.createElement("a",{href:" "},"Transcript"))):r.a.createElement("span",null,"No captioned version provided"))))}function pn(e){return r.a.createElement("div",{className:"feedbackSlug"},e.source_url," not found")}function mn(){return r.a.createElement("div",{className:"feedbackSlug"},"Enter a video source")}var hn=Object(m.e)(Object(p.c)(function(e,t){var a,n,r=e.mediaSearchReducer,i=e.errorsReducer,o=e.tempJobsFormReducer,s=t.transaction_id,c=t.transaction_link,l=r.hasOwnProperty(s),u=i.hasOwnProperty(s),d=l||u;return""!==s&&r.hasOwnProperty(s)&&r[s].hasOwnProperty("captioned_resources")&&(a=r[s].captioned_resources.reduce(function(e,t){return null!==t.amara_id&&e.push({currentValue:t}),e},[])).length>0&&(n=a[0].currentValue.amara_resource.url),{mediaSearchReducer:r,errorsReducer:i,tempJobsFormReducer:o,transaction_id:s,transaction_link:c,itemFound:l,itemNotFound:u,startedSearch:d,captionResources:a,captionUrl:n}})(un)),bn=a(217),vn=a.n(bn),_n=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={title:"",cap_location:"",source_location:"",type:"URL",sha_256_hash:""},a.handleInputChange=a.handleInputChange.bind(Object(ct.a)(Object(ct.a)(a))),a.checkSourceUrl=a.checkSourceUrl.bind(Object(ct.a)(Object(ct.a)(a))),a.addNewMediaToJob=a.addNewMediaToJob.bind(Object(ct.a)(Object(ct.a)(a))),a.checkIfFileExists=a.checkIfFileExists.bind(Object(ct.a)(Object(ct.a)(a))),a.addNewMediaFileToJob=a.addNewMediaFileToJob.bind(Object(ct.a)(Object(ct.a)(a))),a.uploadVideoAndAddToTempJob=a.uploadVideoAndAddToTempJob.bind(Object(ct.a)(Object(ct.a)(a))),a.addNewMediaFileInfoToDB=a.addNewMediaFileInfoToDB.bind(Object(ct.a)(Object(ct.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"addNewMediaFileToJob",value:function(e){e.preventDefault(),this.setState({title:this.props.mediaSearchReducer[this.props.transaction_id].title}),this.props.dispatch(Ve(this.props.transaction_id,this.props.mediaSearchReducer[this.props.transaction_id])),this.props.dispatch(Se(this.props.transaction_id)),this.props.dispatch(Ne(this.props.transaction_id))}},{key:"addNewMediaFileInfoToDB",value:function(e){e.preventDefault(),""===this.state.title?alert("Enter a title"):(e.preventDefault(),this.props.dispatch(_t(this.state.title,this.state.sha_256_hash,this.state.type,this.props.transaction_id)),this.props.dispatch(Se(this.props.transaction_id)),this.props.dispatch(Ne(this.props.transaction_id)))}},{key:"uploadVideoAndAddToTempJob",value:function(e){if(e.preventDefault(),this.props.videoSelected&&!1===this.props.tempJobsFormReducer[this.props.transaction_id].meta.uploaded){var t=this.props.mediaSearchReducer[this.props.transaction_id].id;this.props.dispatch(ft(this.state.fileToSend,t,this.props.transaction_id,this.state.content_type)),this.props.dispatch(Se(this.props.transaction_id)),this.props.dispatch(Ne(this.props.transaction_id))}if(!this.props.videoSelected){if(!1===this.props.tempJobsFormReducer[this.props.transaction_id].meta.uploaded){var a=this.props.mediaSearchReducer[this.props.transaction_id].id;this.props.dispatch(ft(this.state.fileToSend,a,this.props.transaction_id,this.state.content_type)),this.props.dispatch(Se(this.props.transaction_id)),this.props.dispatch(Ne(this.props.transaction_id))}this.setState({title:this.props.mediaSearchReducer[this.props.transaction_id].title})}}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.props.isLocked||this.setState(Object(ut.a)({},n,a))}},{key:"checkIfFileExists",value:function(e){var t=this,a=new FileReader;a.onload=function(e){var n,r,i=a.result.slice(0,1024),o=vn.a.lib.WordArray.create(i),s=vn.a.SHA256(o).toString();t.props.dispatch(Se(t.props.transaction_id)),t.props.dispatch(Ne(t.props.transaction_id)),t.props.dispatch((n=s,r=t.props.transaction_id,function(e){return e(pe(!0)),b()("".concat(Ke,"/media?sha_256_hash=").concat(n)).then(function(t){return Ze(t,e,r,pe)},function(e){console.log(e)}).then(function(t){return $e(t,e,[we],r,pe)})})),t.setState({sha_256_hash:s})},a.readAsArrayBuffer(e.target.files[0]);var n=new Blob([e.target.files[0]],{type:e.target.files[0].type});this.setState({fileToSend:n,content_type:e.target.files[0].type})}},{key:"checkSourceUrl",value:function(e){this.props.dispatch(Se(this.props.transaction_id)),this.props.dispatch(Ne(this.props.transaction_id)),""!==this.state.source_location&&(e.preventDefault(),this.props.dispatch(it(this.state.source_location,this.props.transaction_id)))}},{key:"addNewMediaToJob",value:function(e){e.preventDefault(),this.props.isLocked||(e.preventDefault(),"URL"===this.state.type&&(""===this.state.source_location?(e.preventDefault(),alert("Missing Input")):this.props.mediaSearchReducer[this.props.transaction_id]?(this.setState({title:this.props.mediaSearchReducer[this.props.transaction_id].title}),this.props.dispatch(Ve(this.props.transaction_id,this.props.mediaSearchReducer[this.props.transaction_id])),this.props.dispatch(Se(this.props.transaction_id)),this.props.dispatch(Ne(this.props.transaction_id))):""!==this.state.title?(e.preventDefault(),this.props.dispatch(Se(this.props.transaction_id)),this.props.dispatch(Ne(this.props.transaction_id)),this.props.dispatch(_t(this.state.title,this.state.source_location,this.state.type,this.props.transaction_id))):(e.preventDefault(),alert("Add a title"))))}},{key:"render",value:function(){var e;return"URL"===this.state.type?e=r.a.createElement(sn.a,{placeholder:"e.x., https://www.youtube.com/watch?v=AAssk2N_oPk",className:"addJobInput",name:"source_location",type:"text",size:"50",maxLength:"150",required:!0,disabled:this.props.inputsDisabled,value:this.state.source_location,onChange:this.handleInputChange,onBlur:this.checkSourceUrl}):"File"===this.state.type&&(e=r.a.createElement(sn.a,{className:"addJobInput",accept:"video/*,audio/*",name:"videoFile",type:"file",onChange:this.checkIfFileExists,required:!0,disabled:this.props.inputsDisabled})),r.a.createElement("div",{className:"addMediaContainer"},r.a.createElement("div",{className:"videoFormContainer"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"videoInputs"},r.a.createElement("label",{className:"newJobLabel"},"Video Type:",r.a.createElement(cn.a,{disabled:this.props.inputsDisabled,className:"videoType",name:"type",onChange:this.handleInputChange,value:this.state.type},r.a.createElement(ln.a,{value:"URL"},"URL"),r.a.createElement(ln.a,{value:"File"},"File"))),r.a.createElement("label",{className:"newJobLabel"},"Source Location",e),r.a.createElement("label",{className:"newJobLabel"},"Video Title",r.a.createElement(sn.a,{className:"addJobInput",name:"title",type:"text",size:"50",required:!0,disabled:this.props.inputsDisabled,maxLength:"128",value:this.state.title,onChange:this.handleInputChange}))),r.a.createElement("div",{className:"videoInputs inputsLower"},r.a.createElement("div",{className:"mediaSubmitButton"},!this.props.videoSelected&&!this.props.submitDisabled&&r.a.createElement(Yt.a,{size:"small",color:"secondary",variant:"contained",name:"submit",type:"submit",disabled:!0},"Add Video"),"URL"===this.state.type&&this.props.inMedia&&!this.props.videoSelected&&r.a.createElement(Yt.a,{size:"small",color:"secondary",variant:"contained",name:"submit",type:"submit",disabled:!this.props.submitDisabled,onClick:this.addNewMediaToJob},"Use Video"),"URL"===this.state.type&&this.props.inError&&r.a.createElement(Yt.a,{size:"small",color:"secondary",variant:"contained",name:"submit",type:"submit",disabled:!this.props.submitDisabled,onClick:this.addNewMediaToJob},"Add Video"),"URL"===this.state.type&&this.props.videoSelected&&r.a.createElement(Yt.a,{size:"small",color:"primary",variant:"contained",name:"submit",type:"submit",disabled:!0},"Video Selected"),"File"===this.state.type&&this.props.inError&&r.a.createElement(Yt.a,{size:"small",color:"secondary",variant:"contained",name:"submit",type:"submit",disabled:!this.props.submitDisabled,onClick:this.addNewMediaFileInfoToDB},"Add File"),"File"===this.state.type&&this.props.inMedia&&!this.props.videoSelected&&this.props.filePresent&&r.a.createElement(Yt.a,{size:"small",color:"secondary",variant:"contained",name:"submit",type:"submit",disabled:!this.props.submitDisabled,onClick:this.addNewMediaFileToJob},"Use File"),"File"===this.state.type&&this.props.inMedia&&!this.props.videoSelected&&!this.props.filePresent&&r.a.createElement(Yt.a,{size:"small",color:"secondary",variant:"contained",name:"submit",type:"submit",disabled:!this.props.submitDisabled,onClick:this.uploadVideoAndAddToTempJob},"- Upload File"),"File"===this.state.type&&this.props.inMedia&&this.props.videoSelected&&!this.props.filePresent&&r.a.createElement(Yt.a,{size:"small",color:"secondary",variant:"contained",name:"submit",type:"submit",disabled:!this.props.submitDisabled,onClick:this.uploadVideoAndAddToTempJob},"Upload File"),"File"===this.state.type&&this.props.fileUploaded&&this.props.videoSelected&&r.a.createElement(Yt.a,{size:"small",color:"primary",variant:"contained",name:"submit",type:"submit",disabled:!0},"Video Selected"))))))}},{key:"componentDidUpdate",value:function(e,t,a){e.transaction_id!==this.props.transaction_id&&""===this.props.transaction_id&&this.setState({title:"",cap_location:"",source_location:"",type:"URL"})}}]),t}(n.Component);var fn=Object(m.e)(Object(p.c)(function(e,t){var a=e.mediaSearchReducer,n=e.errorsReducer,r=e.tempJobsFormReducer,i=t.transaction_id,o=t.transaction_link,s=t.isLocked,c=!1,l=""===i,u=!1,d=!1,p=a.hasOwnProperty(i)||n.hasOwnProperty(i);r[i]&&(c=r[i].video.hasOwnProperty("id"),d=r[i].meta.uploaded),a[i]&&(u=a[i].media_objects.some(function(e){return e.associated_files.sha_256_hash===a[i].sha_256_hash}));var m=n.hasOwnProperty(i),h=a.hasOwnProperty(i);return{mediaSearchReducer:a,errorsReducer:n,tempJobsFormReducer:r,transaction_id:i,transaction_link:o,isLocked:s,submitDisabled:p,inError:m,inMedia:h,inputsDisabled:l,videoSelected:c,filePresent:u,fileUploaded:d}})(_n)),jn=a(581),On=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={comments:"",show_date:new Date,delivery_format:"Amara"},a.addJobInfo=a.addJobInfo.bind(Object(ct.a)(Object(ct.a)(a))),a.handleInputChange=a.handleInputChange.bind(Object(ct.a)(Object(ct.a)(a))),a.handleSetDate=a.handleSetDate.bind(Object(ct.a)(Object(ct.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleSetDate",value:function(e){this.setState({show_date:e})}},{key:"addJobInfo",value:function(e){var t={show_date:this.state.show_date,delivery_format:this.state.delivery_format,comments:this.state.comments,requester_id:this.props.requesterId.requester_id,semester:this.props.semester};this.props.dispatch(ze(this.props.transaction_id,t)),this.props.dispatch(He(this.props.transaction_id,!0))}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.props.isLocked||this.setState(Object(ut.a)({},n,a))}},{key:"componentDidUpdate",value:function(e,t,a){e.transaction_id!==this.props.transaction_id&&""===this.props.transaction_id&&this.setState({comments:"",show_date:new Date,delivery_format:"Amara",requester_id:this.props.requesterId})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{className:"jobForm"},r.a.createElement("div",{className:"jobFormLeft"},r.a.createElement("div",null,r.a.createElement("label",null,"Show Date:",r.a.createElement(_a.a,{disabled:!this.props.formEnabled,name:"show_date",value:this.state.show_date,onChange:this.handleSetDate}))),r.a.createElement("div",null,r.a.createElement("label",null,"Output:",r.a.createElement(cn.a,{value:this.state.delivery_format,onChange:this.handleInputChange,disabled:!this.props.formEnabled,name:"delivery_format"},r.a.createElement(ln.a,{value:"Amara"},"Amara"),r.a.createElement(ln.a,{value:"SRT"},"SRT"),r.a.createElement(ln.a,{value:"Video File"},"Video File"))))),r.a.createElement("div",{className:"jobFormRight"},r.a.createElement("label",null,r.a.createElement(jn.a,{className:"jobFormComments",multiline:!0,rows:7,placeholder:"comments",name:"comments",disabled:!this.props.formEnabled,value:this.state.comments,onChange:this.handleInputChange})))),r.a.createElement(Yt.a,{size:"small",variant:"contained",onClick:function(t){return e.addJobInfo(t)},disabled:!this.props.submitButtonEnabled},"Complete Request"))}}]),t}(n.Component);var gn=Object(m.e)(Object(p.c)(function(e,t){var a=e.globalsReducer,n=e.coursesReducer,r=e.mediaSearchReducer,i=e.errorsReducer,o=e.tempJobsFormReducer,s=e.requesterReducer,c=t.props,l=t.requesterId,u=t.transaction_id,d=t.isLocked,p=u in o,m=!1,h=a.currentSemester;return o.hasOwnProperty(u)&&o[u].hasOwnProperty("video")&&o[u].video.hasOwnProperty("id")&&("File"===o[u].video.media_type&&(m=o[u].video.media_objects.some(function(e){return e.associated_files.sha_256_hash===o[u].video.sha_256_hash})),"URL"===o[u].video.media_type&&(m=!0)),p&&o[u].hasOwnProperty("video")&&(p=o[u].video.hasOwnProperty("id")),{mediaSearchReducer:r,errorsReducer:i,tempJobsFormReducer:o,requesterReducer:s,coursesReducer:n,props:c,isLocked:d,requesterId:l,formEnabled:p,filePresent:!1,submitButtonEnabled:m,semester:h}})(On)),En=(a(537),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={transaction_id:""},a.createTransaction=a.createTransaction.bind(Object(ct.a)(Object(ct.a)(a))),a.finalizeTransaction=a.finalizeTransaction.bind(Object(ct.a)(Object(ct.a)(a))),a.clearTransaction=a.clearTransaction.bind(Object(ct.a)(Object(ct.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"createTransaction",value:function(e){var t=Object(Qe.a)();this.setState({transaction_id:t}),this.props.dispatch(Be(t,this.props.requesterId.requester_id))}},{key:"clearTransaction",value:function(e){this.setState({transaction_id:""}),this.props.dispatch({type:Te}),this.props.dispatch(Ne(this.state.transaction_id)),this.props.dispatch(Se(this.state.transaction_id))}},{key:"finalizeTransaction",value:function(){this.props.dispatch(He(this.props.transaction_id,!0))}},{key:"componentDidUpdate",value:function(e,t,a){if(!this.props.tempJobsFormReducer[this.state.transaction_id])return!1;!0===this.props.tempJobsFormReducer[this.state.transaction_id].meta.created&&this.setState({transaction_id:""})}},{key:"render",value:function(){var e=this,t=""===this.props.requesterId||this.props.tempJobsFormReducer.hasOwnProperty(this.state.transaction_id),a=""===this.state.transaction_id;return r.a.createElement("div",{className:"jobPrepMasterContainer"},r.a.createElement("div",{className:"jobPrepButtons"},r.a.createElement("div",{className:"jobPrepButton"},r.a.createElement(Yt.a,{size:"small",variant:"contained",onClick:function(t){return e.createTransaction(t)},disabled:t},"Add Request")),r.a.createElement("div",{className:"jobPrepButton"},r.a.createElement(Yt.a,{size:"small",variant:"contained",onClick:function(t){return e.clearTransaction(t)},disabled:this.props.clearDisabled},"Clear"))),r.a.createElement("div",{className:"jobPrepContainer"},r.a.createElement("div",{className:"jobPrepContainerLeft"},r.a.createElement("div",{className:"newMediaOuterContainer"},r.a.createElement(fn,{transaction_id:this.state.transaction_id,isLocked:a})),r.a.createElement("div",{className:"newJobFormOuterContainer"},r.a.createElement(gn,{requesterId:this.props.requesterId,transaction_id:this.state.transaction_id,isLocked:a}))),r.a.createElement("div",{className:"jobPrepContainerRight"},r.a.createElement("div",{className:"videoSearchFeedbackContainer"},this.props.mediaSearchLoading?r.a.createElement(tn.a,null):r.a.createElement(hn,{transaction_id:this.state.transaction_id})))))}}]),t}(n.Component));var yn=Object(m.e)(Object(p.c)(function(e,t){var a=e.mediaSearchReducer,n=e.errorsReducer,r=e.tempJobsFormReducer,i=e.loadingStatusReducer,o=t.requesterId,s=i.mediaLoading,c=""===o,l=0===Object.keys(r).filter(function(e){return!1===r[e].meta.created}).length;return{loadingStatusReducer:i,mediaSearchReducer:a,errorsReducer:n,tempJobsFormReducer:r,clearDisabled:l,formDisabled:c,requesterId:o,mediaSearchLoading:s}})(En)),Cn=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={formValue:""},a.applyRequesterId=a.applyRequesterId.bind(Object(ct.a)(Object(ct.a)(a))),a.submitJobs=a.submitJobs.bind(Object(ct.a)(Object(ct.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"applyRequesterId",value:function(e){this.setState({formValue:e})}},{key:"submitJobs",value:function(){this.props.dispatch(vt(this.props.tempJobsFormReducer)),this.props.dispatch(Ge())}},{key:"componentWillUnmount",value:function(){this.props.dispatch(Ge()),this.props.dispatch(Ne()),this.props.dispatch(Se())}},{key:"render",value:function(){return r.a.createElement("div",{className:"newJobMasterContainer"},r.a.createElement("div",{className:"requesterSelector"},r.a.createElement("form",{className:"requesterSelectorForm"},r.a.createElement("label",{className:"newJobLabel"},"Select Requester",r.a.createElement(gt.a,{className:"selector",isDisabled:this.props.disableSelector,value:this.state.formValue,options:this.props.courses_list,onChange:this.applyRequesterId})))),r.a.createElement(yn,{requesterId:this.state.formValue}),r.a.createElement(za,null),r.a.createElement("div",{className:"submitJobsButton"},r.a.createElement(Yt.a,{size:"small",variant:"contained",onClick:this.submitJobs,disabled:!this.props.enableSubmit},0===this.props.totalJobs?"No Jobs Added":"Submit Jobs"," ")))}}]),t}(n.Component);var Sn=Object(m.e)(Object(p.c)(function(e,t){var a=e.mediaSearchReducer,n=e.errorsReducer,r=e.tempJobsFormReducer,i=e.coursesReducer,o=e.campusOrgReducer,s=e.requesterReducer,c=e.employeesReducer,l=e.loadingStatusReducer,u=(t.props,[]),d=[],p=Object.keys(r).filter(function(e){return!0===r[e].meta.created}).length,m=Object.keys(r).some(function(e){return!0===r[e].meta.created}),h=Object.keys(r).some(function(e){return!1===r[e].meta.created});!1===l.instructorsLoading&&Object.keys(i).length>0&&(u=Object.keys(i).map(function(e){return Object.keys(s).reduce(function(t,a){return s[a].course_id===e&&(t={requester_id:s[a].id,label:s[a].course_id+" | "+c[s[a].employee_id].employee_first_name+" "+c[s[a].employee_id].employee_last_name,value:s[a].course_id}),t},[])}),Object.keys(o).length>0&&(d=Object.keys(o).map(function(e){return Object.keys(s).reduce(function(t,a){if(s[a].campus_org_id===parseInt(e,10)){var n={requester_id:s[a].id,label:o[e].organization_name+" | "+c[s[a].org_employee_id].employee_first_name+" "+c[s[a].org_employee_id].employee_last_name,value:o[e].organization_name};t.push(n)}return t},[])}).reduce(function(e,t){return e.concat(t)},[])));var b=[];return!0===l.requestersLoading&&(b=[]),console.log("ZPRR{S{S",u,d),!1===l.requestersLoading&&(b=[].concat(Object(Ea.a)(u),Object(Ea.a)(d))),{mediaSearchReducer:a,errorsReducer:n,tempJobsFormReducer:r,courses_list:b,enableSubmit:m,disableSelector:h,totalJobs:p}})(Cn)),Rn=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ContentManagementMasterContainer"},r.a.createElement("div",{className:"control-bar"},r.a.createElement("div",{className:"controlButton"},"Add Job"),r.a.createElement("div",{className:"controlButton"},"Edit Media")),r.a.createElement("div",{className:"masterListItem"},r.a.createElement(Sn,null)))}}]),t}(n.Component);var kn=Object(m.e)(Object(p.c)(function(e,t){return e.loadingStatusReducer,e.errorsReducer,{videosJobsReducer:e.videosJobsReducer,jobsLoading:t.jobsLoading}})(Rn)),wn=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ContentManagementMasterContainer"},r.a.createElement("div",{className:"control-bar"},r.a.createElement("div",{className:"controlBarNavButtons"},r.a.createElement("div",{id:"jobManager",role:"button",className:"navButton"},r.a.createElement(lt.b,{to:{pathname:"/captioning/ilearn-scraper/active-courses",search:this.props.location.search}},"Active Courses "),r.a.createElement("span",{className:"jobCount"},this.props.capActive)),r.a.createElement("div",{id:"jobManager",role:"button",className:"navButton"},r.a.createElement(lt.b,{to:{pathname:"/captioning/ilearn-scraper/inactive-courses",search:this.props.location.search}},"Inactive Courses "),r.a.createElement("span",{className:"jobCount"},this.props.capInactive)),r.a.createElement("div",{className:"controlButton"},"New Videos"),r.a.createElement("div",{className:"controlButton"},"Search"),r.a.createElement("div",{className:"controlButton"},"Add"))),r.a.createElement("div",null,r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/captioning/ilearn-scraper/active-courses",render:function(e){return r.a.createElement(on,Object.assign({},e,{studentActive:!0}))}}),r.a.createElement(m.a,{path:"/captioning/ilearn-scraper/inactive-courses",render:function(e){return r.a.createElement(on,Object.assign({},e,{studentActive:!1}))}}))))}}]),t}(n.Component);var Nn=Object(m.e)(Object(p.c)(function(e,t){e.loadingStatusReducer,e.errorsReducer;var a=e.videosJobsReducer,n=e.coursesReducer,r=t.jobsLoading,i=0,o=0;function s(e,t,a){return!0===e.student_requests_captioning}return Object.keys(n).forEach(function(e){!0===n[e].students_enrolled.some(s)?i+=1:o+=1}),{videosJobsReducer:a,jobsLoading:r,capActive:i,capInactive:o}})(wn)),Jn=a(161),In=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={employeeId:"",firstName:"",lastName:"",email:"",phoneNumber:""},a.handleChange=a.handleChange.bind(Object(ct.a)(Object(ct.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(ct.a)(Object(ct.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(ut.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.dispatch(function(e){var t=Object(Qe.a)();console.log(e);var a={employee_id:e.employeeId,employee_first_name:e.firstName,employee_last_name:e.lastName,employee_email:e.email,employee_phone:e.phoneNumber},n={method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}};return function(e){return e(de(!0)),b()("".concat(mt,"/employees?employee_id=all"),n).then(function(a){a.ok?b()("".concat(mt,"/employees")).then(function(a){return ht(a,e,t)},function(e){console.log(e)}).then(function(a){bt(a,e,[y],t,de)}):alert("Something went wrong with upload")})}}(this.state))}},{key:"render",value:function(){return r.a.createElement("div",{className:"addEmployeeContainer"},"Employee Container",r.a.createElement(Jn.a,{onSubmit:this.handleSubmit},r.a.createElement("label",{htmlFor:"employeeId"},r.a.createElement("div",null,"Employee ID"),r.a.createElement("input",{maxLength:9,value:this.state.employeeId,type:"text",name:"employeeId",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"firstName"},r.a.createElement("div",null,"First Name"),r.a.createElement("input",{required:!0,value:this.state.firstName,type:"text",name:"firstName",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"lastName"},r.a.createElement("div",null,"Last Name"),r.a.createElement("input",{required:!0,value:this.state.lastName,type:"text",name:"lastName",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"email"},r.a.createElement("div",null,"E-Mail"),r.a.createElement("input",{required:!0,value:this.state.email,type:"text",name:"email",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"phoneNumber"},r.a.createElement("div",null,"Phone Number"),r.a.createElement("input",{value:this.state.phoneNumber,type:"text",name:"phoneNumber",onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("input",{type:"submit",name:"submit"}))))}}]),t}(n.Component);var Fn=Object(m.e)(Object(p.c)(function(e,t){return e.videosJobsReducer,t.props,{}})(In)),Dn=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={employeeId:"",campusOrgs:""},a.submitAssignment=a.submitAssignment.bind(Object(ct.a)(Object(ct.a)(a))),a.updateValue=a.updateValue.bind(Object(ct.a)(Object(ct.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"submitAssignment",value:function(e){e.preventDefault(),this.props.dispatch(function(e,t,a){var n=Object(Qe.a)(),r={campus_org_id:e,employee_id:t};console.log(r);var i={method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}};return function(e){return e(de(!0)),b()("".concat(mt,"/campus-org-assignment"),i).then(function(t){t.ok?b()("".concat(mt,"/requesters?employee_id=all&semester=").concat(a)).then(function(t){return ht(t,e,n)},function(e){console.log(e)}).then(function(t){bt(t,e,[X],n,de)}):alert("Something went wrong with upload")})}}(this.state.campusOrgs.value,this.state.employeeId.value,this.props.semester))}},{key:"updateValue",value:function(e){this.setState(Object(ut.a)({},e.id,e))}},{key:"render",value:function(){return r.a.createElement("div",{className:"addEmployeeContainer"},"Assign Employee Container",r.a.createElement(Jn.a,{onSubmit:this.submitAssignment},r.a.createElement("label",null,"Select Employee",r.a.createElement(gt.a,{onChange:this.updateValue,value:this.state.employeeId,options:this.props.employee})),r.a.createElement("label",null,"Select Organization",r.a.createElement(gt.a,{onChange:this.updateValue,value:this.state.campusOrgs,options:this.props.campusOrgs})),r.a.createElement("input",{type:"submit",name:"Add Assignment"})))}}]),t}(n.Component);var Ln=Object(m.e)(Object(p.c)(function(e,t){var a=e.employeesReducer,n=(e.requesterReducer,e.campusOrgReducer),r=e.globalsReducer;return t.props,{campusOrgs:Object.keys(n).map(function(e){return{id:"campusOrgs",label:n[e].organization_name,value:e}}),employee:Object.keys(a).map(function(e){return{id:"employeeId",label:a[e].employee_first_name+" "+a[e].employee_last_name+" | "+a[e].employee_id,value:e}}),semester:r.currentSemester}})(Dn)),An=(a(538),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"masterListItem masterListUser"},"Add User Outer Container",r.a.createElement(Fn,null),r.a.createElement(Ln,null))}}]),t}(n.Component));var xn=Object(m.e)(Object(p.c)(function(e,t){return e.employeesReducer,e.requesterReducer,e.campusOrgReducer,t.props,{}})(An)),Tn=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ContentManagementMasterContainer"},r.a.createElement("div",{className:"control-bar"},r.a.createElement("div",{className:"controlBarNavButtons"},r.a.createElement("div",{id:"jobManager",role:"button",className:"navButton"},r.a.createElement(lt.b,{to:{pathname:"/captioning/users/add-user",search:this.props.location.search}},"Add User")),r.a.createElement("div",{id:"jobManager",role:"button",className:"navButton"},r.a.createElement(lt.b,{to:{pathname:"/captioning/users/edit-user",search:this.props.location.search}},"Edit Users")),r.a.createElement("div",{id:"jobManager",role:"button",className:"navButton"},r.a.createElement(lt.b,{to:{pathname:"/captioning/users/courses",search:this.props.location.search}},"Courses")))),r.a.createElement("div",null,r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/captioning/users/add-user"},r.a.createElement(xn,null)))))}}]),t}(n.Component);var qn=Object(m.e)(Object(p.c)(function(e,t){return{videosJobsReducer:e.videosJobsReducer,props:t.props}})(Tn)),Mn=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"ContentManagementMasterContainer"},r.a.createElement(qn,null))}}]),t}(n.Component);var Un=Object(m.e)(Object(p.c)(function(e,t){e.loadingStatusReducer;var a=e.errorsReducer;return e.videosJobsReducer,{errorsReducer:a,props:t.props}})(Mn)),Bn="SET_GLOBAL_PARAMS",Pn="SET_GLOBAL_PARAM",Vn={currentSemester:"fa20"};var zn=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={jobManagerActive:!0,addJobActive:!1,iLearnScraperActive:!1,semester:""},a.selectNavigator=a.selectNavigator.bind(Object(ct.a)(Object(ct.a)(a))),a.updateSemester=a.updateSemester.bind(Object(ct.a)(Object(ct.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({semester:this.props.globalsReducer.currentSemester})}},{key:"updateSemester",value:function(e){var t,a;this.setState({semester:e.target.value}),this.props.dispatch((t="currentSemester",a=e.target.value,{type:Pn,param:t,value:a}))}},{key:"selectNavigator",value:function(e){this.setState({jobManagerActive:"JobManager"===e.target.id,addJobActive:"addJob"===e.target.id,iLearnScraperActive:"iLearnScraper"===e.target.id})}},{key:"render",value:function(){return r.a.createElement("div",{className:"NavigationMasterContainer"},r.a.createElement("div",{className:"NavUpperContainer"},r.a.createElement("div",{className:"NavUpperInnerContainer"},r.a.createElement("div",{className:"NavControlContainer"},r.a.createElement("div",{id:"jobManager",role:"button",className:"navButton"},r.a.createElement(lt.b,{to:{pathname:"/captioning/job-manager",search:this.props.location.search}},"Job Manager")),r.a.createElement("div",{id:"addJob",role:"button",className:"navButton"},r.a.createElement(lt.b,{to:{pathname:"/captioning/add-job",search:this.props.location.search}},"Add Job")),r.a.createElement("div",{id:"iLearnScraper",role:"button",className:"navButton",onClick:this.selectNavigator},r.a.createElement(lt.b,{to:{pathname:"/captioning/ilearn-scraper/active-courses",search:this.props.location.search}},"iLearn Scraper")),r.a.createElement("div",{id:"autoCaptioner",role:"button",className:"navButton",onClick:this.selectNavigator},r.a.createElement(lt.b,{to:{pathname:"/captioning/auto-captioner",search:this.props.location.search}},"Auto Captioner")),r.a.createElement("div",{id:"autoExplorer",role:"button",className:"navButton",onClick:this.selectNavigator},r.a.createElement(lt.b,{to:{pathname:"/captioning/content-explorer",search:this.props.location.search}},"Content Manager")),r.a.createElement("div",{id:"email",role:"button",className:"navButton",onClick:this.selectNavigator},r.a.createElement(lt.b,{to:{pathname:"/captioning/email",search:this.props.location.search}},"Email")),r.a.createElement("div",{id:"email",role:"button",className:"navButton",onClick:this.selectNavigator},r.a.createElement(lt.b,{to:{pathname:"/captioning/users",search:this.props.location.search}},"Users"))),r.a.createElement("div",{className:"semesterSelectContainer"},r.a.createElement("form",null,r.a.createElement("label",null,"Semester",r.a.createElement("select",{value:this.state.semester,onChange:this.updateSemester},r.a.createElement("option",{value:"sp20"},"Spring 2020"),r.a.createElement("option",{value:"su20"},"Summer 2020"),r.a.createElement("option",{value:"fa20"},"Fall 2020"))))),r.a.createElement("div",{className:"logout-container"},r.a.createElement("a",{href:"/authentication/logout"},"logout")),r.a.createElement("div",{className:"globalLoadingContainer"},this.props.displayLoader&&r.a.createElement(tn.a,{size:30})))),r.a.createElement("div",{className:"navContent"},r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/captioning/job-manager"},this.props.isLoaded&&r.a.createElement(wa,{query:this.props.query})),r.a.createElement(m.a,{path:"/captioning/add-job"},r.a.createElement(kn,{query:this.props.query})),r.a.createElement(m.a,{path:"/captioning/ilearn-scraper"},r.a.createElement(Nn,null)),r.a.createElement(m.a,{path:"/captioning/users"},r.a.createElement(Un,null)))))}}]),t}(n.Component);var Hn=Object(m.e)(Object(p.c)(function(e,t){e.requesterReducer,e.userPermissionReducer;var a=e.loadingStatusReducer,n=e.globalsReducer,r=t.query,i=a.coursesLoading||a.iLearnVideosLoading||a.mediaLoading||a.videoJobsLoading||a.astRequestsLoading;return console.log("DSGFSDFG",i),{query:r,globalsReducer:n,isLoaded:!a.userRequestsLoading&&!a.coursesLoading,displayLoader:i}})(zn)),Gn=(a(539),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={link:"",error_id:""},a.handleInputChange=a.handleInputChange.bind(Object(ct.a)(Object(ct.a)(a))),a.checkURL=a.checkURL.bind(Object(ct.a)(Object(ct.a)(a))),a.checkError=a.checkError.bind(Object(ct.a)(Object(ct.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"checkURL",value:function(e){e.preventDefault(),console.log(this.state.link),""!==this.state.link&&(this.state.error_id=Object(Qe.a)(),this.props.dispatch(it(this.state.link,this.state.error_id))),""===this.state.link&&(console.log("GEERRRRERERERERERERERE"),this.props.dispatch(Ne()))}},{key:"checkError",value:function(){return!!this.props.errorsReducer[this.state.error_id]}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,n=t.name;console.log("TARGET",e),console.log(this.state),this.setState(Object(ut.a)({},n,a))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.createTempJob},r.a.createElement("label",null,"Source Linkasdasd:",r.a.createElement("input",{name:"link",type:"text",value:this.state.link,onChange:this.handleInputChange,onBlur:this.checkURL}))))}}]),t}(n.Component));Object(m.e)(Object(p.c)(function(e){return{mediaSearchReducer:e.mediaSearchReducer,errorsReducer:e.errorsReducer}})(Gn));var Yn=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={title:"",cap_location:"",source_location:"",type:""},a.handleInputChange=a.handleInputChange.bind(Object(ct.a)(Object(ct.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(ct.a)(Object(ct.a)(a))),a.checkURL=a.checkURL.bind(Object(ct.a)(Object(ct.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"checkURL",value:function(e){""!==this.state.link&&this.props.dispatch(it(this.state.link))}},{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,n=t.name;console.log(t),this.setState(Object(ut.a)({},n,a))}},{key:"handleSubmit",value:function(e){""===this.state.title?(e.preventDefault(),alert("Add a Title")):""!==this.state.title&&(console.log("BEGEGSEGSEGESGESGSEG"),e.preventDefault(),this.props.dispatch(_t(this.state.title,this.state.source_location,this.state.type,this.props.transaction_id)))}},{key:"componentDidMount",value:function(){this.props.errorsReducer[this.props.transaction_id]?this.setState({source_location:this.props.transaction_link}):this.setState({source_location:this.props.transaction_link,title:this.props.mediaSearchReducer[this.props.transaction_id].title}),console.log("PROPSSS",this.props.mediaSearchReducer)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"NEW MEDIA FORM"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Video Title:",r.a.createElement("input",{name:"title",type:"text",size:"50",value:this.state.title,onChange:this.handleInputChange})),r.a.createElement("br",null),r.a.createElement("label",null,"Source Location",r.a.createElement("input",{name:"source_location",type:"text",size:"50",value:this.state.source_location,onChange:this.handleInputChange})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Video Type:",r.a.createElement("select",{name:"type",value:this.state.type,onChange:this.handleInputChange},r.a.createElement("option",{value:"URL"},"URL"),r.a.createElement("option",{value:"File"},"File"))),r.a.createElement("input",{name:"submit",type:"submit",onClick:this.handleSubmit})))}}]),t}(n.Component);var Wn=Object(m.e)(Object(p.c)(function(e,t){return{mediaSearchReducer:e.mediaSearchReducer,errorsReducer:e.errorsReducer,tempJobsFormReducer:e.tempJobsFormReducer,transaction_id:t.transaction_id,transaction_link:t.transaction_link}})(Yn)),Qn="ADD_CAP_JOB_MEDIA",Kn="ADD_CAP_JOB";var Xn=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={show_date:new Date,delivery_format:"URL (Amara.org)",comments:"",course:{value:"",label:""},employee_id:"",requester_id:""},a.handleInputChange=a.handleInputChange.bind(Object(ct.a)(Object(ct.a)(a))),a.createTempJob=a.createTempJob.bind(Object(ct.a)(Object(ct.a)(a))),a.handleSelectChange=a.handleSelectChange.bind(Object(ct.a)(Object(ct.a)(a))),a.handleSetDate=a.handleSetDate.bind(Object(ct.a)(Object(ct.a)(a))),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleSelectChange",value:function(e){var t=this,a=Object.keys(this.props.requesterReducer).find(function(a){return t.props.requesterReducer[a].course.course_gen_id===e.value}),n=this.props.coursesReducer[e.value].employee_id;this.setState({course:e,employee_id:n,requester_id:a});var r={show_date:this.state.show_date,delivery_format:this.state.delivery_format,comments:this.state.comments,employee_id:n,requester_id:a,semester:this.props.semester};this.props.dispatch(ze(this.props.transaction_id,r))}},{key:"handleSetDate",value:function(e){console.log(e),this.setState({show_date:e})}},{key:"handleInputChange",value:function(e){console.log(e);var t=e.target,a=t.value,n=t.name;this.setState(Object(ut.a)({},n,a))}},{key:"createTempJob",value:function(e){console.log(e),e.preventDefault(),this.props.mediaSearchReducer[this.props.transaction_id]&&0===Object.keys(this.props.tempJobsFormReducer[this.props.transaction_id].video).length&&this.props.dispatch(Ve(this.props.transaction_id,this.props.mediaSearchReducer[this.props.transaction_id])),this.props.dispatch(He(this.props.transaction_id,!0))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"NEW JOB FORM"),r.a.createElement("form",{onSubmit:this.createTempJob},r.a.createElement("label",null,"Show Date:",r.a.createElement(_a.a,{name:"show_date",value:this.state.show_date,onChange:this.handleSetDate})),r.a.createElement("br",null),r.a.createElement("label",null,"Comments:",r.a.createElement("input",{name:"comments",type:"text",value:this.state.link,onChange:this.handleInputChange})),r.a.createElement("br",null),r.a.createElement("label",null,"Output:",r.a.createElement("select",{name:"delivery_format",value:this.state.delivery_format,onChange:this.handleInputChange},r.a.createElement("option",{value:"URL (Amara.org)"},"URL (Amara.org)"),r.a.createElement("option",{value:"SRT"},"Caption File (.SRT)"),r.a.createElement("option",{value:"Video File"},"Video File (.mp4)"))),r.a.createElement(gt.a,{value:this.state.course,options:this.props.courses_list,onChange:this.handleSelectChange}),r.a.createElement("button",{onClick:this.createTempJob},"Add Request")),r.a.createElement(za,null))}}]),t}(n.Component);var Zn=Object(m.e)(Object(p.c)(function(e,t){var a=e.globalsReducer,n=e.coursesReducer,r=e.mediaSearchReducer,i=e.tempJobsFormReducer,o=e.requesterReducer,s=t.transaction_id,c=a.currentSemester;return{coursesReducer:n,transaction_id:s,courses_list:Object.keys(n).map(function(e){return{value:e,label:e}}),tempJobsFormReducer:i,mediaSearchReducer:r,requesterReducer:o,semester:c}})(Xn)),$n=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"CapJobContainer",r.a.createElement(Wn,null),r.a.createElement(Zn,null))}}]),t}(n.Component);Object(m.e)(Object(p.c)(function(e){return{mediaReducer:e.mediaReducer,videosJobsReducer:e.videosJobsReducer}})($n));var er=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e;"admin"===this.props.userPermissionReducer[this.props.query.id].permission_type&&(this.props.dispatch(tt(this.props.globalsReducer.currentSemester)),this.props.dispatch(rt(this.props.globalsReducer.currentSemester)),this.props.dispatch(at(this.props.globalsReducer.currentSemester)),this.props.dispatch(ot()),this.props.dispatch(st()),this.props.dispatch(nt(this.props.globalsReducer.currentSemester))),"user"===this.props.userPermissionReducer[this.props.query.id].permission_type&&this.props.dispatch((e=this.props.query.id,function(t){return b()("".concat(Ke,"/requesters?employee_id=").concat(e)).then(function(e){return e.json()}).then(function(e){return t(X(e))}).then(function(e){return console.log(e)})}))}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;"user"===this.props.userPermissionReducer[this.props.query.id].permission_type&&Object.keys(this.props.requesterReducer).length!==Object.keys(e.requesterReducer).length&&(Object.keys(this.props.requesterReducer).map(function(e){return n.props.dispatch((t=n.props.requesterReducer[e].course_id,function(e){return e(j()),e(le(!0)),b()("".concat(Ke,"/courses?course_gen_id=").concat(t)).then(function(e){return e.json()}).then(function(e){return Xe(e)}).then(function(t){return e(j(t))}).then(function(){return e(le(!1))}).then(function(e){return console.log(e)})}));var t}),Object.keys(this.props.requesterReducer).map(function(e){return n.props.dispatch((t=n.props.requesterReducer[e].course_id,function(e){return e(x()),e(ue(!0)),b()("".concat(Ke,"/ilearn-videos?course_gen_id=").concat(t)).then(function(e){return e.json()}).then(function(e){return Xe(e)}).then(function(t){return e(x(t))}).then(function(){return e(ue(!1))}).then(function(e){return console.log(e)})}));var t})),this.props.globalsReducer.currentSemester!==e.globalsReducer.currentSemester&&(this.props.dispatch(tt(this.props.globalsReducer.currentSemester)),this.props.dispatch(rt(this.props.globalsReducer.currentSemester)),this.props.dispatch(at(this.props.globalsReducer.currentSemester)),this.props.dispatch(nt(this.props.globalsReducer.currentSemester)),this.props.dispatch(st()))}},{key:"render",value:function(){return r.a.createElement("div",{className:"master-container"},r.a.createElement("div",{className:"top-bar"}),r.a.createElement(m.a,{path:"/captioning"},r.a.createElement(Hn,{query:this.props.query})))}}]),t}(n.Component);var tr=Object(m.e)(Object(p.c)(function(e,t){var a=e.requesterReducer,n=e.userPermissionReducer;return e.loadingStatusReducer,{globalsReducer:e.globalsReducer,requesterReducer:a,userPermissionReducer:n,query:t.query}})(er)),ar=a(306),nr=a.n(ar),rr=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).query_id=nr.a.parse(a.props.location.search),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch({type:Bn,globals:Vn}),this.props.dispatch(et(this.query_id.id))}},{key:"componentDidUpdate",value:function(e,t,a){this.props.globalsReducer.currentSemester!==e.globalsReducer.currentSemester&&(this.props.dispatch({type:ce}),this.props.dispatch({type:K}),this.props.dispatch({type:N}),this.props.dispatch({type:f}),this.props.dispatch({type:A}),this.props.dispatch({type:E}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},!0===this.props.permissionsLoading&&r.a.createElement("p",null,"LOADING LOADING LOADING"),!1===this.props.permissionsLoading&&!0===this.props.userPass&&r.a.createElement("p",null,"You Don't Have Permission for this Content"),!1===this.props.permissionsLoading&&!1===this.props.userPass&&r.a.createElement(tr,{query:this.query_id}))}}]),t}(n.Component);var ir=Object(m.e)(Object(p.c)(function(e){e.state;var t=e.userPermissionReducer,a=e.requesterReducer,n=e.loadingStatusReducer,r=e.globalsReducer;return{userPass:t.hasOwnProperty("message")||0===Object.keys(t).length,assetPass:a.hasOwnProperty("message")||0===Object.keys(a).length,userPermissionReducer:t,requesterReducer:a,permissionsLoading:n.userPermissionLoading,globalsReducer:r}})(rr)),or=a(70);var sr=Object(or.c)({coursesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(dt.a)({},e,t.courses);case _:return Object(dt.a)({},e,Object(ut.a)({},t.course_data.course_gen_id,Object(dt.a)({},e[t.course_data.course_gen_id],Object(ut.a)({},t.column,[t.value]))));case f:return{};default:return e}},employeesReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(dt.a)({},e,t.employees);case g:return Object(dt.a)({},t.employees);case E:return{};default:return e}},studentsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(dt.a)({},e,t.students);default:return e}},videosJobsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(dt.a)({},e,t.videos);case S:return Object(dt.a)({},e,Object(ut.a)({},t.job_id,Object(dt.a)({},e[t.job_id],Object(ut.a)({},t.column,t.value))));case R:return Object(dt.a)({},e,Object(ut.a)({},t.job_id,Object(dt.a)({},e[t.job_id],{ast_jobs:[].concat(Object(Ea.a)(e[t.job_id].ast_jobs),[t.astJob])})));case w:return Object.keys(e).reduce(function(a,n){return n!==t.job_id&&(a[n]=e[n]),a},{});case k:var a=e[t.job_id].ast_jobs.findIndex(function(e){return e.id===t.ast_job_id}),n=e[t.job_id].ast_jobs[a];n.ast_id=t.unique_ast_job_id,n.captioning_status="submitted";var r=Object(Ea.a)(e[t.job_id].ast_jobs);return r[a]=n,Object(dt.a)({},e,Object(ut.a)({},t.job_id,Object(dt.a)({},e[t.job_id],{ast_jobs:Object(Ea.a)(r)})));case N:return{};default:return e}},iLearnVideoReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(dt.a)({},e,t.IlearnVideos);case L:return Object(dt.a)({},e,Object(ut.a)({},t.video_id,Object(dt.a)({},e[t.video_id],Object(ut.a)({},t.ilearn_video_object.column,t.ilearn_video_object.value))));case A:return{};default:return e}},mediaReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:case M:case U:return Object(dt.a)({},e,t.media);case V:return Object(dt.a)({},e,Object(ut.a)({},t.mediaId,Object(dt.a)({},t.media[t.mediaId])));case z:return Object(dt.a)({},e,Object(ut.a)({},t.media_id,Object(dt.a)({},e[t.media_id],Object(ut.a)({},t.key,t.value))));case B:var a=Object.keys(t.captionFile).reduce(function(e,a){return e.push(t.captionFile[a]),e},[]);return Object(dt.a)({},e,Object(ut.a)({},t.mediaId,Object(dt.a)({},e[t.mediaId],{media_objects:a})));case P:var n=Object.keys(t.mediaFile).reduce(function(e,a){return e.push(t.mediaFile[a]),e},[]);return Object(dt.a)({},e,Object(ut.a)({},t.mediaId,Object(dt.a)({},e[t.mediaId],{media_objects:n})));default:return e}},loadingStatusReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{coursesLoading:!0,iLearnVideosLoading:!0,instructorsLoading:!0,mediaLoading:!0,studentsLoading:!0,videoJobsLoading:!0,userPermissionLoading:!0,requestersLoading:!0,astRequestsLoading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return{coursesLoading:!0,iLearnVideosLoading:!0,instructorsLoading:!0,mediaLoading:!0,studentsLoading:!0,videoJobsLoading:!0,userPermissionLoading:!1,requestersLoading:!0,astRequestsLoading:!1};case $:return Object(dt.a)({},e,{coursesLoading:t.status});case ee:return Object(dt.a)({},e,{iLearnVideosLoading:t.status});case te:return Object(dt.a)({},e,{instructorsLoading:t.status});case ne:return Object(dt.a)({},e,{studentsLoading:t.status});case ae:return Object(dt.a)({},e,{mediaLoading:t.status});case re:return Object(dt.a)({},e,{videoJobsLoading:t.status});case ie:return Object(dt.a)({},e,{userPermissionLoading:t.status});case oe:return Object(dt.a)({},e,{requestersLoading:t.status});case se:return Object(dt.a)({},e,{astRequestsLoading:t.status});default:return e}},newCapJobReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qn:return Object(dt.a)({},e,t.media);case Kn:return Object(dt.a)({},e,t.job);default:return e}},requesterReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(dt.a)({},e,t.requester);case K:return{};default:return e}},campusOrgReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Je:return Object(dt.a)({},e,t.campus_orgs);default:return e}},userPermissionReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:return Object(dt.a)({},e,t.userPermission);default:return e}},errorsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return Object(dt.a)({},e,Object(ut.a)({},t.error_id,{is_error:!0,error_message:t.error_message,request_payload:t.request_payload}));case ye:return Object.keys(e).reduce(function(a,n){return n!==t.transaction_id&&(a[n]=e[n]),a},{});default:return e}},requestsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(dt.a)({},e,t.requests);default:return e}},tempJobsFormReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return Object(dt.a)({},e,Object(ut.a)({},t.temp_id,{video:{},job_info:{},meta:{created:!1,transaction_id:t.temp_id,requester_id:t.requester_id,uploaded:!1}}));case Fe:var a=Object.keys(t.media_info);return Object(dt.a)({},e,Object(ut.a)({},t.temp_id,{video:t.media_info[a],job_info:Object(dt.a)({},e[t.temp_id].job_info),meta:Object(dt.a)({},e[t.temp_id].meta)}));case Ae:return Object(dt.a)({},e,Object(ut.a)({},t.temp_id,{video:t.media_info,job_info:Object(dt.a)({},e[t.temp_id].job_info),meta:Object(dt.a)({},e[t.temp_id].meta)}));case De:return Object(dt.a)({},e,Object(ut.a)({},t.temp_id,{video:Object(dt.a)({},e[t.temp_id].video),job_info:t.job_info,meta:Object(dt.a)({},e[t.temp_id].meta)}));case qe:return Object(dt.a)({},e,Object(ut.a)({},t.temp_id,{video:Object(dt.a)({},e[t.temp_id].video),job_info:Object(dt.a)({},e[t.temp_id].job_info,Object(ut.a)({},t.job_info.column,t.job_info.value)),meta:Object(dt.a)({},e[t.temp_id].meta)}));case Ue:return Object(dt.a)({},e,Object(ut.a)({},t.temp_id,{video:Object(dt.a)({},e[t.temp_id].video),job_info:Object(dt.a)({},e[t.temp_id].job_info),meta:Object(dt.a)({},e[t.temp_id].meta,{uploaded:t.upload_state})}));case Me:return Object.keys(e).reduce(function(a,n){return n!==t.transaction_id&&(a[n]=e[n]),a},{});case Le:return Object(dt.a)({},e,Object(ut.a)({},t.temp_id,{video:Object(dt.a)({},e[t.temp_id].video),job_info:Object(dt.a)({},e[t.temp_id].job_info),meta:Object(dt.a)({},e[t.temp_id].meta,{created:t.created})}));case Te:return Object.keys(e).reduce(function(t,a){return Object.keys(e[a].job_info).length>0&&(t[a]=e[a]),t},{});case xe:return{};default:return e}},mediaSearchReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re:var a=Object.keys(t.media);return Object(dt.a)({},e,Object(ut.a)({},t.unique_id,t.media[a[0]]));case ke:return console.log("FGFG",t.transaction_id),Object.keys(e).reduce(function(a,n){return n!==t.transaction_id&&(a[n]=e[n]),a},{});default:return e}},globalsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Bn:return Object(dt.a)({},e,t.globals);case Pn:return Object(dt.a)({},e,Object(ut.a)({},t.param,t.value));default:return e}}}),cr=a(307),lr=function(e){return function(t){return function(a){console.group(a.type),console.info("dispatching",a);var n=t(a);return console.log("next state",e.getState()),console.groupEnd(),n}}},ur=Object(or.a)(cr.a,lr),dr=a(52),pr=Object(dr.a)(),mr=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||or.d,hr=Object(or.e)(sr,mr(ur));o.a.render(r.a.createElement(p.a,{store:hr},r.a.createElement(lt.a,{history:pr},r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/captioning"},r.a.createElement(ir,null)),r.a.createElement(m.a,null,r.a.createElement("div",null,"PAGE NOT FOUND"))))),document.getElementById("root"))}},[[319,1,2]]]);
//# sourceMappingURL=main.503b631d.chunk.js.map